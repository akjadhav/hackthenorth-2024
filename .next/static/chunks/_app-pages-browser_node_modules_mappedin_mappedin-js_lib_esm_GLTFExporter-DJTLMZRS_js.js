"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_mappedin_mappedin-js_lib_esm_GLTFExporter-DJTLMZRS_js"],{

/***/ "(app-pages-browser)/./node_modules/@mappedin/mappedin-js/lib/esm/GLTFExporter-DJTLMZRS.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@mappedin/mappedin-js/lib/esm/GLTFExporter-DJTLMZRS.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GLTFExporter: function() { return /* binding */ q; }\n/* harmony export */ });\n/* harmony import */ var _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-YPHGW2KF.js */ \"(app-pages-browser)/./node_modules/@mappedin/mappedin-js/lib/esm/chunk-YPHGW2KF.js\");\n/* harmony import */ var _chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-BCE6HB4T.js */ \"(app-pages-browser)/./node_modules/@mappedin/mappedin-js/lib/esm/chunk-BCE6HB4T.js\");\n(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.j)();(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.j)();var B,J,U,K;function j(c,e=1/0,s=null){J||(J=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.U(2,2,1,1)),U||(U=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.Q({uniforms:{blitTexture:new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.Pa(c)},vertexShader:`\n\t\t\tvarying vec2 vUv;\n\t\t\tvoid main(){\n\t\t\t\tvUv = uv;\n\t\t\t\tgl_Position = vec4(position.xy * 1.0,0.,.999999);\n\t\t\t}`,fragmentShader:`\n\t\t\tuniform sampler2D blitTexture; \n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(){ \n\t\t\t\tgl_FragColor = vec4(vUv.xy, 0, 1);\n\t\t\t\t\n\t\t\t\t#ifdef IS_SRGB\n\t\t\t\tgl_FragColor = LinearTosRGB( texture2D( blitTexture, vUv) );\n\t\t\t\t#else\n\t\t\t\tgl_FragColor = texture2D( blitTexture, vUv);\n\t\t\t\t#endif\n\t\t\t}`})),U.uniforms.blitTexture.value=c,U.defines.IS_SRGB=c.colorSpace==_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.u,U.needsUpdate=!0,K||(K=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.O(J,U),K.frustrumCulled=!1);let r=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.S,t=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.Z;t.add(K),s===null&&(s=B=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.X({antialias:!1}));let i=Math.min(c.image.width,e),n=Math.min(c.image.height,e);s.setSize(i,n),s.clear(),s.render(t,r);let o=document.createElement(\"canvas\"),a=o.getContext(\"2d\");o.width=i,o.height=n,a.drawImage(s.domElement,0,0,i,n);let u=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.oa(o);return u.minFilter=c.minFilter,u.magFilter=c.magFilter,u.wrapS=c.wrapS,u.wrapT=c.wrapT,u.name=c.name,B&&(B.forceContextLoss(),B.dispose(),B=null),u}(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(j,\"decompress\");var $e={POSITION:[\"byte\",\"byte normalized\",\"unsigned byte\",\"unsigned byte normalized\",\"short\",\"short normalized\",\"unsigned short\",\"unsigned short normalized\"],NORMAL:[\"byte normalized\",\"short normalized\"],TANGENT:[\"byte normalized\",\"short normalized\"],TEXCOORD:[\"byte\",\"byte normalized\",\"unsigned byte\",\"short\",\"short normalized\",\"unsigned short\"]},pe=class pe{constructor(){this.pluginCallbacks=[],this.register(function(e){return new ee(e)}),this.register(function(e){return new se(e)}),this.register(function(e){return new re(e)}),this.register(function(e){return new ie(e)}),this.register(function(e){return new oe(e)}),this.register(function(e){return new ae(e)}),this.register(function(e){return new te(e)}),this.register(function(e){return new ne(e)}),this.register(function(e){return new ce(e)}),this.register(function(e){return new ue(e)}),this.register(function(e){return new le(e)}),this.register(function(e){return new fe(e)}),this.register(function(e){return new he(e)})}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,s,r,t){let i=new $,n=[];for(let o=0,a=this.pluginCallbacks.length;o<a;o++)n.push(this.pluginCallbacks[o](i));i.setPlugins(n),i.write(e,s,t).catch(r)}parseAsync(e,s){let r=this;return new Promise(function(t,i){r.parse(e,t,i,s)})}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(pe,\"GLTFExporter\");var q=pe,x={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},Q=\"KHR_mesh_quantization\",b={};b[_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.g]=x.NEAREST;b[_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.h]=x.NEAREST_MIPMAP_NEAREST;b[_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.i]=x.NEAREST_MIPMAP_LINEAR;b[_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.j]=x.LINEAR;b[_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.k]=x.LINEAR_MIPMAP_NEAREST;b[_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.l]=x.LINEAR_MIPMAP_LINEAR;b[_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.e]=x.CLAMP_TO_EDGE;b[_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.d]=x.REPEAT;b[_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.f]=x.MIRRORED_REPEAT;var es={scale:\"scale\",position:\"translation\",quaternion:\"rotation\",morphTargetInfluences:\"weights\"},cs=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.J,ss=12,us=1179937895,ls=2,ts=8,fs=1313821514,hs=5130562;function F(c,e){return c.length===e.length&&c.every(function(s,r){return s===e[r]})}(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(F,\"equalArray\");function ps(c){return new TextEncoder().encode(c).buffer}(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(ps,\"stringToArrayBuffer\");function ds(c){return F(c.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(ds,\"isIdentityMatrix\");function gs(c,e,s){let r={min:new Array(c.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(c.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let t=e;t<e+s;t++)for(let i=0;i<c.itemSize;i++){let n;c.itemSize>4?n=c.array[t*c.itemSize+i]:(i===0?n=c.getX(t):i===1?n=c.getY(t):i===2?n=c.getZ(t):i===3&&(n=c.getW(t)),c.normalized===!0&&(n=_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.w.normalize(n,c.array))),r.min[i]=Math.min(r.min[i],n),r.max[i]=Math.max(r.max[i],n)}return r}(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(gs,\"getMinMax\");function is(c){return Math.ceil(c/4)*4}(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(is,\"getPaddedBufferSize\");function Z(c,e=0){let s=is(c.byteLength);if(s!==c.byteLength){let r=new Uint8Array(s);if(r.set(new Uint8Array(c)),e!==0)for(let t=c.byteLength;t<s;t++)r[t]=e;return r.buffer}return c}(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(Z,\"getPaddedArrayBuffer\");function ns(){return typeof document>\"u\"&&typeof OffscreenCanvas<\"u\"?new OffscreenCanvas(1,1):document.createElement(\"canvas\")}(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(ns,\"getCanvas\");function rs(c,e){if(c.toBlob!==void 0)return new Promise(r=>c.toBlob(r,e));let s;return e===\"image/jpeg\"?s=.92:e===\"image/webp\"&&(s=.8),c.convertToBlob({type:e,quality:s})}(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(rs,\"getToBlobPromise\");var de=class de{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.extensionsRequired={},this.uids=new Map,this.uid=0,this.json={asset:{version:\"2.0\",generator:\"THREE.GLTFExporter\"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(e){this.plugins=e}async write(e,s,r={}){this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},r),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(e),await Promise.all(this.pending);let t=this,i=t.buffers,n=t.json;r=t.options;let o=t.extensionsUsed,a=t.extensionsRequired,u=new Blob(i,{type:\"application/octet-stream\"}),p=Object.keys(o),f=Object.keys(a);if(p.length>0&&(n.extensionsUsed=p),f.length>0&&(n.extensionsRequired=f),n.buffers&&n.buffers.length>0&&(n.buffers[0].byteLength=u.size),r.binary===!0){let m=new FileReader;m.readAsArrayBuffer(u),m.onloadend=function(){let l=Z(m.result),d=new DataView(new ArrayBuffer(ts));d.setUint32(0,l.byteLength,!0),d.setUint32(4,hs,!0);let h=Z(ps(JSON.stringify(n)),32),w=new DataView(new ArrayBuffer(ts));w.setUint32(0,h.byteLength,!0),w.setUint32(4,fs,!0);let M=new ArrayBuffer(ss),N=new DataView(M);N.setUint32(0,us,!0),N.setUint32(4,ls,!0);let k=ss+w.byteLength+h.byteLength+d.byteLength+l.byteLength;N.setUint32(8,k,!0);let g=new Blob([M,w,h,d,l],{type:\"application/octet-stream\"}),y=new FileReader;y.readAsArrayBuffer(g),y.onloadend=function(){s(y.result)}}}else if(n.buffers&&n.buffers.length>0){let m=new FileReader;m.readAsDataURL(u),m.onloadend=function(){let l=m.result;n.buffers[0].uri=l,s(n)}}else s(n)}serializeUserData(e,s){if(Object.keys(e.userData).length===0)return;let r=this.options,t=this.extensionsUsed;try{let i=JSON.parse(JSON.stringify(e.userData));if(r.includeCustomExtensions&&i.gltfExtensions){s.extensions===void 0&&(s.extensions={});for(let n in i.gltfExtensions)s.extensions[n]=i.gltfExtensions[n],t[n]=!0;delete i.gltfExtensions}Object.keys(i).length>0&&(s.extras=i)}catch(i){console.warn(\"THREE.GLTFExporter: userData of '\"+e.name+\"' won't be serialized because of JSON.stringify error - \"+i.message)}}getUID(e,s=!1){if(this.uids.has(e)===!1){let t=new Map;t.set(!0,this.uid++),t.set(!1,this.uid++),this.uids.set(e,t)}return this.uids.get(e).get(s)}isNormalizedNormalAttribute(e){if(this.cache.attributesNormalized.has(e))return!1;let r=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.D;for(let t=0,i=e.count;t<i;t++)if(Math.abs(r.fromBufferAttribute(e,t).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(e){let s=this.cache;if(s.attributesNormalized.has(e))return s.attributesNormalized.get(e);let r=e.clone(),t=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.D;for(let i=0,n=r.count;i<n;i++)t.fromBufferAttribute(r,i),t.x===0&&t.y===0&&t.z===0?t.setX(1):t.normalize(),r.setXYZ(i,t.x,t.y,t.z);return s.attributesNormalized.set(e,r),r}applyTextureTransform(e,s){let r=!1,t={};(s.offset.x!==0||s.offset.y!==0)&&(t.offset=s.offset.toArray(),r=!0),s.rotation!==0&&(t.rotation=s.rotation,r=!0),(s.repeat.x!==1||s.repeat.y!==1)&&(t.scale=s.repeat.toArray(),r=!0),r&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=t,this.extensionsUsed.KHR_texture_transform=!0)}buildMetalRoughTexture(e,s){if(e===s)return e;function r(l){return l.colorSpace===_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.u?(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(function(h){return h<.04045?h*.0773993808:Math.pow(h*.9478672986+.0521327014,2.4)},\"SRGBToLinear\"):(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(function(h){return h},\"LinearToLinear\")}(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(r,\"getEncodingConversion\"),console.warn(\"THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.\"),e instanceof _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.na&&(e=j(e)),s instanceof _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.na&&(s=j(s));let t=e?e.image:null,i=s?s.image:null,n=Math.max(t?t.width:0,i?i.width:0),o=Math.max(t?t.height:0,i?i.height:0),a=ns();a.width=n,a.height=o;let u=a.getContext(\"2d\");u.fillStyle=\"#00ffff\",u.fillRect(0,0,n,o);let p=u.getImageData(0,0,n,o);if(t){u.drawImage(t,0,0,n,o);let l=r(e),d=u.getImageData(0,0,n,o).data;for(let h=2;h<d.length;h+=4)p.data[h]=l(d[h]/256)*256}if(i){u.drawImage(i,0,0,n,o);let l=r(s),d=u.getImageData(0,0,n,o).data;for(let h=1;h<d.length;h+=4)p.data[h]=l(d[h]/256)*256}u.putImageData(p,0,0);let m=(e||s).clone();return m.source=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.z(a),m.colorSpace=_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.t,m.channel=(e||s).channel,e&&s&&e.channel!==s.channel&&console.warn(\"THREE.GLTFExporter: UV channels for metalnessMap and roughnessMap textures must match.\"),m}processBuffer(e){let s=this.json,r=this.buffers;return s.buffers||(s.buffers=[{byteLength:0}]),r.push(e),0}processBufferView(e,s,r,t,i){let n=this.json;n.bufferViews||(n.bufferViews=[]);let o;switch(s){case x.BYTE:case x.UNSIGNED_BYTE:o=1;break;case x.SHORT:case x.UNSIGNED_SHORT:o=2;break;default:o=4}let a=is(t*e.itemSize*o),u=new DataView(new ArrayBuffer(a)),p=0;for(let l=r;l<r+t;l++)for(let d=0;d<e.itemSize;d++){let h;e.itemSize>4?h=e.array[l*e.itemSize+d]:(d===0?h=e.getX(l):d===1?h=e.getY(l):d===2?h=e.getZ(l):d===3&&(h=e.getW(l)),e.normalized===!0&&(h=_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.w.normalize(h,e.array))),s===x.FLOAT?u.setFloat32(p,h,!0):s===x.INT?u.setInt32(p,h,!0):s===x.UNSIGNED_INT?u.setUint32(p,h,!0):s===x.SHORT?u.setInt16(p,h,!0):s===x.UNSIGNED_SHORT?u.setUint16(p,h,!0):s===x.BYTE?u.setInt8(p,h):s===x.UNSIGNED_BYTE&&u.setUint8(p,h),p+=o}let f={buffer:this.processBuffer(u.buffer),byteOffset:this.byteOffset,byteLength:a};return i!==void 0&&(f.target=i),i===x.ARRAY_BUFFER&&(f.byteStride=e.itemSize*o),this.byteOffset+=a,n.bufferViews.push(f),{id:n.bufferViews.length-1,byteLength:0}}processBufferViewImage(e){let s=this,r=s.json;return r.bufferViews||(r.bufferViews=[]),new Promise(function(t){let i=new FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){let n=Z(i.result),o={buffer:s.processBuffer(n),byteOffset:s.byteOffset,byteLength:n.byteLength};s.byteOffset+=n.byteLength,t(r.bufferViews.push(o)-1)}})}processAccessor(e,s,r,t){let i=this.json,n={1:\"SCALAR\",2:\"VEC2\",3:\"VEC3\",4:\"VEC4\",9:\"MAT3\",16:\"MAT4\"},o;if(e.array.constructor===Float32Array)o=x.FLOAT;else if(e.array.constructor===Int32Array)o=x.INT;else if(e.array.constructor===Uint32Array)o=x.UNSIGNED_INT;else if(e.array.constructor===Int16Array)o=x.SHORT;else if(e.array.constructor===Uint16Array)o=x.UNSIGNED_SHORT;else if(e.array.constructor===Int8Array)o=x.BYTE;else if(e.array.constructor===Uint8Array)o=x.UNSIGNED_BYTE;else throw new Error(\"THREE.GLTFExporter: Unsupported bufferAttribute component type: \"+e.array.constructor.name);if(r===void 0&&(r=0),(t===void 0||t===1/0)&&(t=e.count),t===0)return null;let a=gs(e,r,t),u;s!==void 0&&(u=e===s.index?x.ELEMENT_ARRAY_BUFFER:x.ARRAY_BUFFER);let p=this.processBufferView(e,o,r,t,u),f={bufferView:p.id,byteOffset:p.byteOffset,componentType:o,count:t,max:a.max,min:a.min,type:n[e.itemSize]};return e.normalized===!0&&(f.normalized=!0),i.accessors||(i.accessors=[]),i.accessors.push(f)-1}processImage(e,s,r,t=\"image/png\"){if(e!==null){let i=this,n=i.cache,o=i.json,a=i.options,u=i.pending;n.images.has(e)||n.images.set(e,{});let p=n.images.get(e),f=t+\":flipY/\"+r.toString();if(p[f]!==void 0)return p[f];o.images||(o.images=[]);let m={mimeType:t},l=ns();l.width=Math.min(e.width,a.maxTextureSize),l.height=Math.min(e.height,a.maxTextureSize);let d=l.getContext(\"2d\");if(r===!0&&(d.translate(0,l.height),d.scale(1,-1)),e.data!==void 0){s!==_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.n&&console.error(\"GLTFExporter: Only RGBAFormat is supported.\",s),(e.width>a.maxTextureSize||e.height>a.maxTextureSize)&&console.warn(\"GLTFExporter: Image size is bigger than maxTextureSize\",e);let w=new Uint8ClampedArray(e.height*e.width*4);for(let M=0;M<w.length;M+=4)w[M+0]=e.data[M+0],w[M+1]=e.data[M+1],w[M+2]=e.data[M+2],w[M+3]=e.data[M+3];d.putImageData(new ImageData(w,e.width,e.height),0,0)}else if(typeof HTMLImageElement<\"u\"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<\"u\"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<\"u\"&&e instanceof ImageBitmap)d.drawImage(e,0,0,l.width,l.height);else throw new Error(\"THREE.GLTFExporter: Invalid image type. Use HTMLImageElement, HTMLCanvasElement or ImageBitmap.\");a.binary===!0?u.push(rs(l,t).then(w=>i.processBufferViewImage(w)).then(w=>{m.bufferView=w})):l.toDataURL!==void 0?m.uri=l.toDataURL(t):u.push(rs(l,t).then(w=>new FileReader().readAsDataURL(w)).then(w=>{m.uri=w}));let h=o.images.push(m)-1;return p[f]=h,h}else throw new Error(\"THREE.GLTFExporter: No valid image data found. Unable to process texture.\")}processSampler(e){let s=this.json;s.samplers||(s.samplers=[]);let r={magFilter:b[e.magFilter],minFilter:b[e.minFilter],wrapS:b[e.wrapS],wrapT:b[e.wrapT]};return s.samplers.push(r)-1}processTexture(e){let r=this.options,t=this.cache,i=this.json;if(t.textures.has(e))return t.textures.get(e);i.textures||(i.textures=[]),e instanceof _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.na&&(e=j(e,r.maxTextureSize));let n=e.userData.mimeType;n===\"image/webp\"&&(n=\"image/png\");let o={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,n)};e.name&&(o.name=e.name),this._invokeAll(function(u){u.writeTexture&&u.writeTexture(e,o)});let a=i.textures.push(o)-1;return t.textures.set(e,a),a}processMaterial(e){let s=this.cache,r=this.json;if(s.materials.has(e))return s.materials.get(e);if(e.isShaderMaterial)return console.warn(\"GLTFExporter: THREE.ShaderMaterial not supported.\"),null;r.materials||(r.materials=[]);let t={pbrMetallicRoughness:{}};e.isMeshStandardMaterial!==!0&&e.isMeshBasicMaterial!==!0&&console.warn(\"GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.\");let i=e.color.toArray().concat([e.opacity]);if(F(i,[1,1,1,1])||(t.pbrMetallicRoughness.baseColorFactor=i),e.isMeshStandardMaterial?(t.pbrMetallicRoughness.metallicFactor=e.metalness,t.pbrMetallicRoughness.roughnessFactor=e.roughness):(t.pbrMetallicRoughness.metallicFactor=.5,t.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap){let o=this.buildMetalRoughTexture(e.metalnessMap,e.roughnessMap),a={index:this.processTexture(o),channel:o.channel};this.applyTextureTransform(a,o),t.pbrMetallicRoughness.metallicRoughnessTexture=a}if(e.map){let o={index:this.processTexture(e.map),texCoord:e.map.channel};this.applyTextureTransform(o,e.map),t.pbrMetallicRoughness.baseColorTexture=o}if(e.emissive){let o=e.emissive;if(Math.max(o.r,o.g,o.b)>0&&(t.emissiveFactor=e.emissive.toArray()),e.emissiveMap){let u={index:this.processTexture(e.emissiveMap),texCoord:e.emissiveMap.channel};this.applyTextureTransform(u,e.emissiveMap),t.emissiveTexture=u}}if(e.normalMap){let o={index:this.processTexture(e.normalMap),texCoord:e.normalMap.channel};e.normalScale&&e.normalScale.x!==1&&(o.scale=e.normalScale.x),this.applyTextureTransform(o,e.normalMap),t.normalTexture=o}if(e.aoMap){let o={index:this.processTexture(e.aoMap),texCoord:e.aoMap.channel};e.aoMapIntensity!==1&&(o.strength=e.aoMapIntensity),this.applyTextureTransform(o,e.aoMap),t.occlusionTexture=o}e.transparent?t.alphaMode=\"BLEND\":e.alphaTest>0&&(t.alphaMode=\"MASK\",t.alphaCutoff=e.alphaTest),e.side===_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.c&&(t.doubleSided=!0),e.name!==\"\"&&(t.name=e.name),this.serializeUserData(e,t),this._invokeAll(function(o){o.writeMaterial&&o.writeMaterial(e,t)});let n=r.materials.push(t)-1;return s.materials.set(e,n),n}processMesh(e){let s=this.cache,r=this.json,t=[e.geometry.uuid];if(Array.isArray(e.material))for(let g=0,y=e.material.length;g<y;g++)t.push(e.material[g].uuid);else t.push(e.material.uuid);let i=t.join(\":\");if(s.meshes.has(i))return s.meshes.get(i);let n=e.geometry,o;e.isLineSegments?o=x.LINES:e.isLineLoop?o=x.LINE_LOOP:e.isLine?o=x.LINE_STRIP:e.isPoints?o=x.POINTS:o=e.material.wireframe?x.LINES:x.TRIANGLES;let a={},u={},p=[],f=[],m={uv:\"TEXCOORD_0\",uv1:\"TEXCOORD_1\",uv2:\"TEXCOORD_2\",uv3:\"TEXCOORD_3\",color:\"COLOR_0\",skinWeight:\"WEIGHTS_0\",skinIndex:\"JOINTS_0\"},l=n.getAttribute(\"normal\");l!==void 0&&!this.isNormalizedNormalAttribute(l)&&(console.warn(\"THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one.\"),n.setAttribute(\"normal\",this.createNormalizedNormalAttribute(l)));let d=null;for(let g in n.attributes){if(g.slice(0,5)===\"morph\")continue;let y=n.attributes[g];if(g=m[g]||g.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\\d+|COLOR_\\d+|JOINTS_\\d+|WEIGHTS_\\d+)$/.test(g)||(g=\"_\"+g),s.attributes.has(this.getUID(y))){u[g]=s.attributes.get(this.getUID(y));continue}d=null;let A=y.array;g===\"JOINTS_0\"&&!(A instanceof Uint16Array)&&!(A instanceof Uint8Array)&&(console.warn('GLTFExporter: Attribute \"skinIndex\" converted to type UNSIGNED_SHORT.'),d=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.M(new Uint16Array(A),y.itemSize,y.normalized));let E=this.processAccessor(d||y,n);E!==null&&(g.startsWith(\"_\")||this.detectMeshQuantization(g,y),u[g]=E,s.attributes.set(this.getUID(y),E))}if(l!==void 0&&n.setAttribute(\"normal\",l),Object.keys(u).length===0)return null;if(e.morphTargetInfluences!==void 0&&e.morphTargetInfluences.length>0){let g=[],y=[],I={};if(e.morphTargetDictionary!==void 0)for(let A in e.morphTargetDictionary)I[e.morphTargetDictionary[A]]=A;for(let A=0;A<e.morphTargetInfluences.length;++A){let E={},Se=!1;for(let v in n.morphAttributes){if(v!==\"position\"&&v!==\"normal\"){Se||(console.warn(\"GLTFExporter: Only POSITION and NORMAL morph are supported.\"),Se=!0);continue}let S=n.morphAttributes[v][A],X=v.toUpperCase(),L=n.attributes[v];if(s.attributes.has(this.getUID(S,!0))){E[X]=s.attributes.get(this.getUID(S,!0));continue}let O=S.clone();if(!n.morphTargetsRelative)for(let R=0,os=S.count;R<os;R++)for(let C=0;C<S.itemSize;C++)C===0&&O.setX(R,S.getX(R)-L.getX(R)),C===1&&O.setY(R,S.getY(R)-L.getY(R)),C===2&&O.setZ(R,S.getZ(R)-L.getZ(R)),C===3&&O.setW(R,S.getW(R)-L.getW(R));E[X]=this.processAccessor(O,n),s.attributes.set(this.getUID(L,!0),E[X])}f.push(E),g.push(e.morphTargetInfluences[A]),e.morphTargetDictionary!==void 0&&y.push(I[A])}a.weights=g,y.length>0&&(a.extras={},a.extras.targetNames=y)}let h=Array.isArray(e.material);if(h&&n.groups.length===0)return null;let w=!1;if(h&&n.index===null){let g=[];for(let y=0,I=n.attributes.position.count;y<I;y++)g[y]=y;n.setIndex(g),w=!0}let M=h?e.material:[e.material],N=h?n.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let g=0,y=N.length;g<y;g++){let I={mode:o,attributes:u};if(this.serializeUserData(n,I),f.length>0&&(I.targets=f),n.index!==null){let E=this.getUID(n.index);(N[g].start!==void 0||N[g].count!==void 0)&&(E+=\":\"+N[g].start+\":\"+N[g].count),s.attributes.has(E)?I.indices=s.attributes.get(E):(I.indices=this.processAccessor(n.index,n,N[g].start,N[g].count),s.attributes.set(E,I.indices)),I.indices===null&&delete I.indices}let A=this.processMaterial(M[N[g].materialIndex]);A!==null&&(I.material=A),p.push(I)}w===!0&&n.setIndex(null),a.primitives=p,r.meshes||(r.meshes=[]),this._invokeAll(function(g){g.writeMesh&&g.writeMesh(e,a)});let k=r.meshes.push(a)-1;return s.meshes.set(i,k),k}detectMeshQuantization(e,s){if(this.extensionsUsed[Q])return;let r;switch(s.array.constructor){case Int8Array:r=\"byte\";break;case Uint8Array:r=\"unsigned byte\";break;case Int16Array:r=\"short\";break;case Uint16Array:r=\"unsigned short\";break;default:return}s.normalized&&(r+=\" normalized\");let t=e.split(\"_\",1)[0];$e[t]&&$e[t].includes(r)&&(this.extensionsUsed[Q]=!0,this.extensionsRequired[Q]=!0)}processCamera(e){let s=this.json;s.cameras||(s.cameras=[]);let r=e.isOrthographicCamera,t={type:r?\"orthographic\":\"perspective\"};return r?t.orthographic={xmag:e.right*2,ymag:e.top*2,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:t.perspective={aspectRatio:e.aspect,yfov:_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.w.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},e.name!==\"\"&&(t.name=e.type),s.cameras.push(t)-1}processAnimation(e,s){let r=this.json,t=this.nodeMap;r.animations||(r.animations=[]),e=q.Utils.mergeMorphTargetTracks(e.clone(),s);let i=e.tracks,n=[],o=[];for(let a=0;a<i.length;++a){let u=i[a],p=_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.Oa.parseTrackName(u.name),f=_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.Oa.findNode(s,p.nodeName),m=es[p.propertyName];if(p.objectName===\"bones\"&&(f.isSkinnedMesh===!0?f=f.skeleton.getBoneByName(p.objectIndex):f=void 0),!f||!m)return console.warn('THREE.GLTFExporter: Could not export animation track \"%s\".',u.name),null;let l=1,d=u.values.length/u.times.length;m===es.morphTargetInfluences&&(d/=f.morphTargetInfluences.length);let h;u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(h=\"CUBICSPLINE\",d/=3):u.getInterpolation()===_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.o?h=\"STEP\":h=\"LINEAR\",o.push({input:this.processAccessor(new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.M(u.times,l)),output:this.processAccessor(new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.M(u.values,d)),interpolation:h}),n.push({sampler:o.length-1,target:{node:t.get(f),path:m}})}return r.animations.push({name:e.name||\"clip_\"+r.animations.length,samplers:o,channels:n}),r.animations.length-1}processSkin(e){let s=this.json,r=this.nodeMap,t=s.nodes[r.get(e)],i=e.skeleton;if(i===void 0)return null;let n=e.skeleton.bones[0];if(n===void 0)return null;let o=[],a=new Float32Array(i.bones.length*16),u=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.G;for(let f=0;f<i.bones.length;++f)o.push(r.get(i.bones[f])),u.copy(i.boneInverses[f]),u.multiply(e.bindMatrix).toArray(a,f*16);return s.skins===void 0&&(s.skins=[]),s.skins.push({inverseBindMatrices:this.processAccessor(new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.M(a,16)),joints:o,skeleton:r.get(n)}),t.skin=s.skins.length-1}processNode(e){let s=this.json,r=this.options,t=this.nodeMap;s.nodes||(s.nodes=[]);let i={};if(r.trs){let o=e.quaternion.toArray(),a=e.position.toArray(),u=e.scale.toArray();F(o,[0,0,0,1])||(i.rotation=o),F(a,[0,0,0])||(i.translation=a),F(u,[1,1,1])||(i.scale=u)}else e.matrixAutoUpdate&&e.updateMatrix(),ds(e.matrix)===!1&&(i.matrix=e.matrix.elements);if(e.name!==\"\"&&(i.name=String(e.name)),this.serializeUserData(e,i),e.isMesh||e.isLine||e.isPoints){let o=this.processMesh(e);o!==null&&(i.mesh=o)}else e.isCamera&&(i.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){let o=[];for(let a=0,u=e.children.length;a<u;a++){let p=e.children[a];if(p.visible||r.onlyVisible===!1){let f=this.processNode(p);f!==null&&o.push(f)}}o.length>0&&(i.children=o)}this._invokeAll(function(o){o.writeNode&&o.writeNode(e,i)});let n=s.nodes.push(i)-1;return t.set(e,n),n}processScene(e){let s=this.json,r=this.options;s.scenes||(s.scenes=[],s.scene=0);let t={};e.name!==\"\"&&(t.name=e.name),s.scenes.push(t);let i=[];for(let n=0,o=e.children.length;n<o;n++){let a=e.children[n];if(a.visible||r.onlyVisible===!1){let u=this.processNode(a);u!==null&&i.push(u)}}i.length>0&&(t.nodes=i),this.serializeUserData(e,t)}processObjects(e){let s=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.Z;s.name=\"AuxScene\";for(let r=0;r<e.length;r++)s.children.push(e[r]);this.processScene(s)}processInput(e){let s=this.options;e=e instanceof Array?e:[e],this._invokeAll(function(t){t.beforeParse&&t.beforeParse(e)});let r=[];for(let t=0;t<e.length;t++)e[t]instanceof _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.Z?this.processScene(e[t]):r.push(e[t]);r.length>0&&this.processObjects(r);for(let t=0;t<this.skins.length;++t)this.processSkin(this.skins[t]);for(let t=0;t<s.animations.length;++t)this.processAnimation(s.animations[t],e[0]);this._invokeAll(function(t){t.afterParse&&t.afterParse(e)})}_invokeAll(e){for(let s=0,r=this.plugins.length;s<r;s++)e(this.plugins[s])}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(de,\"GLTFWriter\");var $=de,ge=class ge{constructor(e){this.writer=e,this.name=\"KHR_lights_punctual\"}writeNode(e,s){if(!e.isLight)return;if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight){console.warn(\"THREE.GLTFExporter: Only directional, point, and spot lights are supported.\",e);return}let r=this.writer,t=r.json,i=r.extensionsUsed,n={};e.name&&(n.name=e.name),n.color=e.color.toArray(),n.intensity=e.intensity,e.isDirectionalLight?n.type=\"directional\":e.isPointLight?(n.type=\"point\",e.distance>0&&(n.range=e.distance)):e.isSpotLight&&(n.type=\"spot\",e.distance>0&&(n.range=e.distance),n.spot={},n.spot.innerConeAngle=(1-e.penumbra)*e.angle,n.spot.outerConeAngle=e.angle),e.decay!==void 0&&e.decay!==2&&console.warn(\"THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2.\"),e.target&&(e.target.parent!==e||e.target.position.x!==0||e.target.position.y!==0||e.target.position.z!==-1)&&console.warn(\"THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1.\"),i[this.name]||(t.extensions=t.extensions||{},t.extensions[this.name]={lights:[]},i[this.name]=!0);let o=t.extensions[this.name].lights;o.push(n),s.extensions=s.extensions||{},s.extensions[this.name]={light:o.length-1}}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(ge,\"GLTFLightExtension\");var ee=ge,xe=class xe{constructor(e){this.writer=e,this.name=\"KHR_materials_unlit\"}writeMaterial(e,s){if(!e.isMeshBasicMaterial)return;let t=this.writer.extensionsUsed;s.extensions=s.extensions||{},s.extensions[this.name]={},t[this.name]=!0,s.pbrMetallicRoughness.metallicFactor=0,s.pbrMetallicRoughness.roughnessFactor=.9}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(xe,\"GLTFMaterialsUnlitExtension\");var se=xe,me=class me{constructor(e){this.writer=e,this.name=\"KHR_materials_clearcoat\"}writeMaterial(e,s){if(!e.isMeshPhysicalMaterial||e.clearcoat===0)return;let r=this.writer,t=r.extensionsUsed,i={};if(i.clearcoatFactor=e.clearcoat,e.clearcoatMap){let n={index:r.processTexture(e.clearcoatMap),texCoord:e.clearcoatMap.channel};r.applyTextureTransform(n,e.clearcoatMap),i.clearcoatTexture=n}if(i.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){let n={index:r.processTexture(e.clearcoatRoughnessMap),texCoord:e.clearcoatRoughnessMap.channel};r.applyTextureTransform(n,e.clearcoatRoughnessMap),i.clearcoatRoughnessTexture=n}if(e.clearcoatNormalMap){let n={index:r.processTexture(e.clearcoatNormalMap),texCoord:e.clearcoatNormalMap.channel};r.applyTextureTransform(n,e.clearcoatNormalMap),i.clearcoatNormalTexture=n}s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(me,\"GLTFMaterialsClearcoatExtension\");var te=me,Te=class Te{constructor(e){this.writer=e,this.name=\"KHR_materials_iridescence\"}writeMaterial(e,s){if(!e.isMeshPhysicalMaterial||e.iridescence===0)return;let r=this.writer,t=r.extensionsUsed,i={};if(i.iridescenceFactor=e.iridescence,e.iridescenceMap){let n={index:r.processTexture(e.iridescenceMap),texCoord:e.iridescenceMap.channel};r.applyTextureTransform(n,e.iridescenceMap),i.iridescenceTexture=n}if(i.iridescenceIor=e.iridescenceIOR,i.iridescenceThicknessMinimum=e.iridescenceThicknessRange[0],i.iridescenceThicknessMaximum=e.iridescenceThicknessRange[1],e.iridescenceThicknessMap){let n={index:r.processTexture(e.iridescenceThicknessMap),texCoord:e.iridescenceThicknessMap.channel};r.applyTextureTransform(n,e.iridescenceThicknessMap),i.iridescenceThicknessTexture=n}s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(Te,\"GLTFMaterialsIridescenceExtension\");var ne=Te,ye=class ye{constructor(e){this.writer=e,this.name=\"KHR_materials_transmission\"}writeMaterial(e,s){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;let r=this.writer,t=r.extensionsUsed,i={};if(i.transmissionFactor=e.transmission,e.transmissionMap){let n={index:r.processTexture(e.transmissionMap),texCoord:e.transmissionMap.channel};r.applyTextureTransform(n,e.transmissionMap),i.transmissionTexture=n}s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(ye,\"GLTFMaterialsTransmissionExtension\");var re=ye,we=class we{constructor(e){this.writer=e,this.name=\"KHR_materials_volume\"}writeMaterial(e,s){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;let r=this.writer,t=r.extensionsUsed,i={};if(i.thicknessFactor=e.thickness,e.thicknessMap){let n={index:r.processTexture(e.thicknessMap),texCoord:e.thicknessMap.channel};r.applyTextureTransform(n,e.thicknessMap),i.thicknessTexture=n}i.attenuationDistance=e.attenuationDistance,i.attenuationColor=e.attenuationColor.toArray(),s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(we,\"GLTFMaterialsVolumeExtension\");var ie=we,Me=class Me{constructor(e){this.writer=e,this.name=\"KHR_materials_ior\"}writeMaterial(e,s){if(!e.isMeshPhysicalMaterial||e.ior===1.5)return;let t=this.writer.extensionsUsed,i={};i.ior=e.ior,s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(Me,\"GLTFMaterialsIorExtension\");var oe=Me,Ie=class Ie{constructor(e){this.writer=e,this.name=\"KHR_materials_specular\"}writeMaterial(e,s){if(!e.isMeshPhysicalMaterial||e.specularIntensity===1&&e.specularColor.equals(cs)&&!e.specularIntensityMap&&!e.specularColorMap)return;let r=this.writer,t=r.extensionsUsed,i={};if(e.specularIntensityMap){let n={index:r.processTexture(e.specularIntensityMap),texCoord:e.specularIntensityMap.channel};r.applyTextureTransform(n,e.specularIntensityMap),i.specularTexture=n}if(e.specularColorMap){let n={index:r.processTexture(e.specularColorMap),texCoord:e.specularColorMap.channel};r.applyTextureTransform(n,e.specularColorMap),i.specularColorTexture=n}i.specularFactor=e.specularIntensity,i.specularColorFactor=e.specularColor.toArray(),s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(Ie,\"GLTFMaterialsSpecularExtension\");var ae=Ie,Ae=class Ae{constructor(e){this.writer=e,this.name=\"KHR_materials_sheen\"}writeMaterial(e,s){if(!e.isMeshPhysicalMaterial||e.sheen==0)return;let r=this.writer,t=r.extensionsUsed,i={};if(e.sheenRoughnessMap){let n={index:r.processTexture(e.sheenRoughnessMap),texCoord:e.sheenRoughnessMap.channel};r.applyTextureTransform(n,e.sheenRoughnessMap),i.sheenRoughnessTexture=n}if(e.sheenColorMap){let n={index:r.processTexture(e.sheenColorMap),texCoord:e.sheenColorMap.channel};r.applyTextureTransform(n,e.sheenColorMap),i.sheenColorTexture=n}i.sheenRoughnessFactor=e.sheenRoughness,i.sheenColorFactor=e.sheenColor.toArray(),s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(Ae,\"GLTFMaterialsSheenExtension\");var ce=Ae,Re=class Re{constructor(e){this.writer=e,this.name=\"KHR_materials_anisotropy\"}writeMaterial(e,s){if(!e.isMeshPhysicalMaterial||e.anisotropy==0)return;let r=this.writer,t=r.extensionsUsed,i={};if(e.anisotropyMap){let n={index:r.processTexture(e.anisotropyMap)};r.applyTextureTransform(n,e.anisotropyMap),i.anisotropyTexture=n}i.anisotropyStrength=e.anisotropy,i.anisotropyRotation=e.anisotropyRotation,s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(Re,\"GLTFMaterialsAnisotropyExtension\");var ue=Re,Ee=class Ee{constructor(e){this.writer=e,this.name=\"KHR_materials_emissive_strength\"}writeMaterial(e,s){if(!e.isMeshStandardMaterial||e.emissiveIntensity===1)return;let t=this.writer.extensionsUsed,i={};i.emissiveStrength=e.emissiveIntensity,s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(Ee,\"GLTFMaterialsEmissiveStrengthExtension\");var le=Ee,be=class be{constructor(e){this.writer=e,this.name=\"EXT_materials_bump\"}writeMaterial(e,s){if(!e.isMeshStandardMaterial||e.bumpScale===1&&!e.bumpMap)return;let r=this.writer,t=r.extensionsUsed,i={};if(e.bumpMap){let n={index:r.processTexture(e.bumpMap),texCoord:e.bumpMap.channel};r.applyTextureTransform(n,e.bumpMap),i.bumpTexture=n}i.bumpFactor=e.bumpScale,s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(be,\"GLTFMaterialsBumpExtension\");var fe=be,Ne=class Ne{constructor(e){this.writer=e,this.name=\"EXT_mesh_gpu_instancing\"}writeNode(e,s){if(!e.isInstancedMesh)return;let r=this.writer,t=e,i=new Float32Array(t.count*3),n=new Float32Array(t.count*4),o=new Float32Array(t.count*3),a=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.G,u=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.D,p=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.C,f=new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.D;for(let l=0;l<t.count;l++)t.getMatrixAt(l,a),a.decompose(u,p,f),u.toArray(i,l*3),p.toArray(n,l*4),f.toArray(o,l*3);let m={TRANSLATION:r.processAccessor(new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.M(i,3)),ROTATION:r.processAccessor(new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.M(n,4)),SCALE:r.processAccessor(new _chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.M(o,3))};t.instanceColor&&(m._COLOR_0=r.processAccessor(t.instanceColor)),s.extensions=s.extensions||{},s.extensions[this.name]={attributes:m},r.extensionsUsed[this.name]=!0,r.extensionsRequired[this.name]=!0}};(0,_chunk_BCE6HB4T_js__WEBPACK_IMPORTED_MODULE_1__.a)(Ne,\"GLTFMeshGpuInstancing\");var he=Ne;q.Utils={insertKeyframe:function(c,e){let r=c.getValueSize(),t=new c.TimeBufferType(c.times.length+1),i=new c.ValueBufferType(c.values.length+r),n=c.createInterpolant(new c.ValueBufferType(r)),o;if(c.times.length===0){t[0]=e;for(let a=0;a<r;a++)i[a]=0;o=0}else if(e<c.times[0]){if(Math.abs(c.times[0]-e)<.001)return 0;t[0]=e,t.set(c.times,1),i.set(n.evaluate(e),0),i.set(c.values,r),o=0}else if(e>c.times[c.times.length-1]){if(Math.abs(c.times[c.times.length-1]-e)<.001)return c.times.length-1;t[t.length-1]=e,t.set(c.times,0),i.set(c.values,0),i.set(n.evaluate(e),c.values.length),o=t.length-1}else for(let a=0;a<c.times.length;a++){if(Math.abs(c.times[a]-e)<.001)return a;if(c.times[a]<e&&c.times[a+1]>e){t.set(c.times.slice(0,a+1),0),t[a+1]=e,t.set(c.times.slice(a+1),a+2),i.set(c.values.slice(0,(a+1)*r),0),i.set(n.evaluate(e),(a+1)*r),i.set(c.values.slice((a+1)*r),(a+2)*r),o=a+1;break}}return c.times=t,c.values=i,o},mergeMorphTargetTracks:function(c,e){let s=[],r={},t=c.tracks;for(let i=0;i<t.length;++i){let n=t[i],o=_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.Oa.parseTrackName(n.name),a=_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.Oa.findNode(e,o.nodeName);if(o.propertyName!==\"morphTargetInfluences\"||o.propertyIndex===void 0){s.push(n);continue}if(n.createInterpolant!==n.InterpolantFactoryMethodDiscrete&&n.createInterpolant!==n.InterpolantFactoryMethodLinear){if(n.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error(\"THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.\");console.warn(\"THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead.\"),n=n.clone(),n.setInterpolation(_chunk_YPHGW2KF_js__WEBPACK_IMPORTED_MODULE_0__.p)}let u=a.morphTargetInfluences.length,p=a.morphTargetDictionary[o.propertyIndex];if(p===void 0)throw new Error(\"THREE.GLTFExporter: Morph target name not found: \"+o.propertyIndex);let f;if(r[a.uuid]===void 0){f=n.clone();let l=new f.ValueBufferType(u*f.times.length);for(let d=0;d<f.times.length;d++)l[d*u+p]=f.values[d];f.name=(o.nodeName||\"\")+\".morphTargetInfluences\",f.values=l,r[a.uuid]=f,s.push(f);continue}let m=n.createInterpolant(new n.ValueBufferType(1));f=r[a.uuid];for(let l=0;l<f.times.length;l++)f.values[l*u+p]=m.evaluate(f.times[l]);for(let l=0;l<n.times.length;l++){let d=this.insertKeyframe(f,n.times[l]);f.values[d*u+p]=n.values[l]}}return c.tracks=s,c}};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbWFwcGVkaW4vbWFwcGVkaW4tanMvbGliL2VzbS9HTFRGRXhwb3J0ZXItREpUTE1aUlMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVVLHFEQUFDLEdBQUcscURBQUMsR0FBRyxZQUFZLDJCQUEyQixVQUFVLGlEQUFFLHFCQUFxQixpREFBRSxFQUFFLFVBQVUsZ0JBQWdCLGtEQUFFLElBQUk7QUFDM2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxFQUFFLGtFQUFrRSxpREFBQyw0QkFBNEIsaURBQUUsMkJBQTJCLFVBQVUsaURBQUUsT0FBTyxpREFBQyxDQUFDLDRCQUE0QixpREFBRSxFQUFFLGFBQWEsR0FBRyw2REFBNkQsdUNBQXVDLDREQUE0RCx1REFBdUQsVUFBVSxrREFBRSxJQUFJLG9KQUFvSixxREFBQyxpQkFBaUIsUUFBUSxvVkFBb1YsYUFBYSxjQUFjLGtEQUFrRCxpQkFBaUIsNEJBQTRCLGlCQUFpQiw0QkFBNEIsaUJBQWlCLDRCQUE0QixpQkFBaUIsNEJBQTRCLGlCQUFpQiw0QkFBNEIsaUJBQWlCLDRCQUE0QixpQkFBaUIsNEJBQTRCLGlCQUFpQiw0QkFBNEIsaUJBQWlCLDRCQUE0QixpQkFBaUIsNEJBQTRCLGlCQUFpQiw0QkFBNEIsaUJBQWlCLDRCQUE0QixpQkFBaUIsRUFBRSxZQUFZLCtFQUErRSxjQUFjLGlIQUFpSCxlQUFlLGlCQUFpQiwwQ0FBMEMsSUFBSSx1Q0FBdUMsd0NBQXdDLGdCQUFnQixXQUFXLGlDQUFpQyxpQkFBaUIsSUFBSSxxREFBQyxvQkFBb0IsWUFBWSxrYUFBa2EsZ0NBQWdDLEVBQUUsaURBQUUsWUFBWSxFQUFFLGlEQUFFLDJCQUEyQixFQUFFLGlEQUFFLDBCQUEwQixFQUFFLGlEQUFFLFdBQVcsRUFBRSxpREFBRSwwQkFBMEIsRUFBRSxpREFB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QU0sdUJBQXVCLFlBQVksOENBQThDLFlBQVksaUJBQWlCLHlCQUF5QixrRkFBa0YsU0FBUyxvREFBb0QsWUFBWSxZQUFZLGlCQUFpQiwyQ0FBMkMsWUFBWSxpQkFBaUIsS0FBSyx3Q0FBd0MsNkJBQTZCLHNCQUFnRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQG1hcHBlZGluL21hcHBlZGluLWpzL2xpYi9lc20vR0xURkV4cG9ydGVyLURKVExNWlJTLmpzPzA5ZGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e0MgYXMgWWUsRCxHIGFzIFcsSiBhcyBLZSxNIGFzIF8sTyBhcyBqZSxPYSBhcyB6LFBhIGFzIFplLFEgYXMgcWUsUyBhcyBYZSxVIGFzIFdlLFggYXMgSmUsWiBhcyBQLGMgYXMgX2UsZCBhcyBDZSxlIGFzIFVlLGYgYXMgdmUsZyBhcyBMZSxoIGFzIE9lLGkgYXMgRGUsaiBhcyBQZSxrIGFzIHplLGwgYXMgQmUsbiBhcyBGZSxuYSBhcyBZLG8gYXMga2Usb2EgYXMgUWUscCBhcyBIZSx0IGFzIFZlLHUgYXMgVix3IGFzIEcseiBhcyBHZX1mcm9tXCIuL2NodW5rLVlQSEdXMktGLmpzXCI7aW1wb3J0e2EgYXMgVCxqIGFzIEh9ZnJvbVwiLi9jaHVuay1CQ0U2SEI0VC5qc1wiO0goKTtIKCk7dmFyIEIsSixVLEs7ZnVuY3Rpb24gaihjLGU9MS8wLHM9bnVsbCl7Snx8KEo9bmV3IFdlKDIsMiwxLDEpKSxVfHwoVT1uZXcgcWUoe3VuaWZvcm1zOntibGl0VGV4dHVyZTpuZXcgWmUoYyl9LHZlcnRleFNoYWRlcjpgXG5cdFx0XHR2YXJ5aW5nIHZlYzIgdlV2O1xuXHRcdFx0dm9pZCBtYWluKCl7XG5cdFx0XHRcdHZVdiA9IHV2O1xuXHRcdFx0XHRnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24ueHkgKiAxLjAsMC4sLjk5OTk5OSk7XG5cdFx0XHR9YCxmcmFnbWVudFNoYWRlcjpgXG5cdFx0XHR1bmlmb3JtIHNhbXBsZXIyRCBibGl0VGV4dHVyZTsgXG5cdFx0XHR2YXJ5aW5nIHZlYzIgdlV2O1xuXG5cdFx0XHR2b2lkIG1haW4oKXsgXG5cdFx0XHRcdGdsX0ZyYWdDb2xvciA9IHZlYzQodlV2Lnh5LCAwLCAxKTtcblx0XHRcdFx0XG5cdFx0XHRcdCNpZmRlZiBJU19TUkdCXG5cdFx0XHRcdGdsX0ZyYWdDb2xvciA9IExpbmVhclRvc1JHQiggdGV4dHVyZTJEKCBibGl0VGV4dHVyZSwgdlV2KSApO1xuXHRcdFx0XHQjZWxzZVxuXHRcdFx0XHRnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoIGJsaXRUZXh0dXJlLCB2VXYpO1xuXHRcdFx0XHQjZW5kaWZcblx0XHRcdH1gfSkpLFUudW5pZm9ybXMuYmxpdFRleHR1cmUudmFsdWU9YyxVLmRlZmluZXMuSVNfU1JHQj1jLmNvbG9yU3BhY2U9PVYsVS5uZWVkc1VwZGF0ZT0hMCxLfHwoSz1uZXcgamUoSixVKSxLLmZydXN0cnVtQ3VsbGVkPSExKTtsZXQgcj1uZXcgWGUsdD1uZXcgUDt0LmFkZChLKSxzPT09bnVsbCYmKHM9Qj1uZXcgSmUoe2FudGlhbGlhczohMX0pKTtsZXQgaT1NYXRoLm1pbihjLmltYWdlLndpZHRoLGUpLG49TWF0aC5taW4oYy5pbWFnZS5oZWlnaHQsZSk7cy5zZXRTaXplKGksbikscy5jbGVhcigpLHMucmVuZGVyKHQscik7bGV0IG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxhPW8uZ2V0Q29udGV4dChcIjJkXCIpO28ud2lkdGg9aSxvLmhlaWdodD1uLGEuZHJhd0ltYWdlKHMuZG9tRWxlbWVudCwwLDAsaSxuKTtsZXQgdT1uZXcgUWUobyk7cmV0dXJuIHUubWluRmlsdGVyPWMubWluRmlsdGVyLHUubWFnRmlsdGVyPWMubWFnRmlsdGVyLHUud3JhcFM9Yy53cmFwUyx1LndyYXBUPWMud3JhcFQsdS5uYW1lPWMubmFtZSxCJiYoQi5mb3JjZUNvbnRleHRMb3NzKCksQi5kaXNwb3NlKCksQj1udWxsKSx1fVQoaixcImRlY29tcHJlc3NcIik7dmFyICRlPXtQT1NJVElPTjpbXCJieXRlXCIsXCJieXRlIG5vcm1hbGl6ZWRcIixcInVuc2lnbmVkIGJ5dGVcIixcInVuc2lnbmVkIGJ5dGUgbm9ybWFsaXplZFwiLFwic2hvcnRcIixcInNob3J0IG5vcm1hbGl6ZWRcIixcInVuc2lnbmVkIHNob3J0XCIsXCJ1bnNpZ25lZCBzaG9ydCBub3JtYWxpemVkXCJdLE5PUk1BTDpbXCJieXRlIG5vcm1hbGl6ZWRcIixcInNob3J0IG5vcm1hbGl6ZWRcIl0sVEFOR0VOVDpbXCJieXRlIG5vcm1hbGl6ZWRcIixcInNob3J0IG5vcm1hbGl6ZWRcIl0sVEVYQ09PUkQ6W1wiYnl0ZVwiLFwiYnl0ZSBub3JtYWxpemVkXCIsXCJ1bnNpZ25lZCBieXRlXCIsXCJzaG9ydFwiLFwic2hvcnQgbm9ybWFsaXplZFwiLFwidW5zaWduZWQgc2hvcnRcIl19LHBlPWNsYXNzIHBle2NvbnN0cnVjdG9yKCl7dGhpcy5wbHVnaW5DYWxsYmFja3M9W10sdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGVlKGUpfSksdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHNlKGUpfSksdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHJlKGUpfSksdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGllKGUpfSksdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IG9lKGUpfSksdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGFlKGUpfSksdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRlKGUpfSksdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IG5lKGUpfSksdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGNlKGUpfSksdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHVlKGUpfSksdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGxlKGUpfSksdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGZlKGUpfSksdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGhlKGUpfSl9cmVnaXN0ZXIoZSl7cmV0dXJuIHRoaXMucGx1Z2luQ2FsbGJhY2tzLmluZGV4T2YoZSk9PT0tMSYmdGhpcy5wbHVnaW5DYWxsYmFja3MucHVzaChlKSx0aGlzfXVucmVnaXN0ZXIoZSl7cmV0dXJuIHRoaXMucGx1Z2luQ2FsbGJhY2tzLmluZGV4T2YoZSkhPT0tMSYmdGhpcy5wbHVnaW5DYWxsYmFja3Muc3BsaWNlKHRoaXMucGx1Z2luQ2FsbGJhY2tzLmluZGV4T2YoZSksMSksdGhpc31wYXJzZShlLHMscix0KXtsZXQgaT1uZXcgJCxuPVtdO2ZvcihsZXQgbz0wLGE9dGhpcy5wbHVnaW5DYWxsYmFja3MubGVuZ3RoO288YTtvKyspbi5wdXNoKHRoaXMucGx1Z2luQ2FsbGJhY2tzW29dKGkpKTtpLnNldFBsdWdpbnMobiksaS53cml0ZShlLHMsdCkuY2F0Y2gocil9cGFyc2VBc3luYyhlLHMpe2xldCByPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsaSl7ci5wYXJzZShlLHQsaSxzKX0pfX07VChwZSxcIkdMVEZFeHBvcnRlclwiKTt2YXIgcT1wZSx4PXtQT0lOVFM6MCxMSU5FUzoxLExJTkVfTE9PUDoyLExJTkVfU1RSSVA6MyxUUklBTkdMRVM6NCxUUklBTkdMRV9TVFJJUDo1LFRSSUFOR0xFX0ZBTjo2LEJZVEU6NTEyMCxVTlNJR05FRF9CWVRFOjUxMjEsU0hPUlQ6NTEyMixVTlNJR05FRF9TSE9SVDo1MTIzLElOVDo1MTI0LFVOU0lHTkVEX0lOVDo1MTI1LEZMT0FUOjUxMjYsQVJSQVlfQlVGRkVSOjM0OTYyLEVMRU1FTlRfQVJSQVlfQlVGRkVSOjM0OTYzLE5FQVJFU1Q6OTcyOCxMSU5FQVI6OTcyOSxORUFSRVNUX01JUE1BUF9ORUFSRVNUOjk5ODQsTElORUFSX01JUE1BUF9ORUFSRVNUOjk5ODUsTkVBUkVTVF9NSVBNQVBfTElORUFSOjk5ODYsTElORUFSX01JUE1BUF9MSU5FQVI6OTk4NyxDTEFNUF9UT19FREdFOjMzMDcxLE1JUlJPUkVEX1JFUEVBVDozMzY0OCxSRVBFQVQ6MTA0OTd9LFE9XCJLSFJfbWVzaF9xdWFudGl6YXRpb25cIixiPXt9O2JbTGVdPXguTkVBUkVTVDtiW09lXT14Lk5FQVJFU1RfTUlQTUFQX05FQVJFU1Q7YltEZV09eC5ORUFSRVNUX01JUE1BUF9MSU5FQVI7YltQZV09eC5MSU5FQVI7Ylt6ZV09eC5MSU5FQVJfTUlQTUFQX05FQVJFU1Q7YltCZV09eC5MSU5FQVJfTUlQTUFQX0xJTkVBUjtiW1VlXT14LkNMQU1QX1RPX0VER0U7YltDZV09eC5SRVBFQVQ7Ylt2ZV09eC5NSVJST1JFRF9SRVBFQVQ7dmFyIGVzPXtzY2FsZTpcInNjYWxlXCIscG9zaXRpb246XCJ0cmFuc2xhdGlvblwiLHF1YXRlcm5pb246XCJyb3RhdGlvblwiLG1vcnBoVGFyZ2V0SW5mbHVlbmNlczpcIndlaWdodHNcIn0sY3M9bmV3IEtlLHNzPTEyLHVzPTExNzk5Mzc4OTUsbHM9Mix0cz04LGZzPTEzMTM4MjE1MTQsaHM9NTEzMDU2MjtmdW5jdGlvbiBGKGMsZSl7cmV0dXJuIGMubGVuZ3RoPT09ZS5sZW5ndGgmJmMuZXZlcnkoZnVuY3Rpb24ocyxyKXtyZXR1cm4gcz09PWVbcl19KX1UKEYsXCJlcXVhbEFycmF5XCIpO2Z1bmN0aW9uIHBzKGMpe3JldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoYykuYnVmZmVyfVQocHMsXCJzdHJpbmdUb0FycmF5QnVmZmVyXCIpO2Z1bmN0aW9uIGRzKGMpe3JldHVybiBGKGMuZWxlbWVudHMsWzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdKX1UKGRzLFwiaXNJZGVudGl0eU1hdHJpeFwiKTtmdW5jdGlvbiBncyhjLGUscyl7bGV0IHI9e21pbjpuZXcgQXJyYXkoYy5pdGVtU2l6ZSkuZmlsbChOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLG1heDpuZXcgQXJyYXkoYy5pdGVtU2l6ZSkuZmlsbChOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpfTtmb3IobGV0IHQ9ZTt0PGUrczt0KyspZm9yKGxldCBpPTA7aTxjLml0ZW1TaXplO2krKyl7bGV0IG47Yy5pdGVtU2l6ZT40P249Yy5hcnJheVt0KmMuaXRlbVNpemUraV06KGk9PT0wP249Yy5nZXRYKHQpOmk9PT0xP249Yy5nZXRZKHQpOmk9PT0yP249Yy5nZXRaKHQpOmk9PT0zJiYobj1jLmdldFcodCkpLGMubm9ybWFsaXplZD09PSEwJiYobj1HLm5vcm1hbGl6ZShuLGMuYXJyYXkpKSksci5taW5baV09TWF0aC5taW4oci5taW5baV0sbiksci5tYXhbaV09TWF0aC5tYXgoci5tYXhbaV0sbil9cmV0dXJuIHJ9VChncyxcImdldE1pbk1heFwiKTtmdW5jdGlvbiBpcyhjKXtyZXR1cm4gTWF0aC5jZWlsKGMvNCkqNH1UKGlzLFwiZ2V0UGFkZGVkQnVmZmVyU2l6ZVwiKTtmdW5jdGlvbiBaKGMsZT0wKXtsZXQgcz1pcyhjLmJ5dGVMZW5ndGgpO2lmKHMhPT1jLmJ5dGVMZW5ndGgpe2xldCByPW5ldyBVaW50OEFycmF5KHMpO2lmKHIuc2V0KG5ldyBVaW50OEFycmF5KGMpKSxlIT09MClmb3IobGV0IHQ9Yy5ieXRlTGVuZ3RoO3Q8czt0Kyspclt0XT1lO3JldHVybiByLmJ1ZmZlcn1yZXR1cm4gY31UKFosXCJnZXRQYWRkZWRBcnJheUJ1ZmZlclwiKTtmdW5jdGlvbiBucygpe3JldHVybiB0eXBlb2YgZG9jdW1lbnQ+XCJ1XCImJnR5cGVvZiBPZmZzY3JlZW5DYW52YXM8XCJ1XCI/bmV3IE9mZnNjcmVlbkNhbnZhcygxLDEpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIil9VChucyxcImdldENhbnZhc1wiKTtmdW5jdGlvbiBycyhjLGUpe2lmKGMudG9CbG9iIT09dm9pZCAwKXJldHVybiBuZXcgUHJvbWlzZShyPT5jLnRvQmxvYihyLGUpKTtsZXQgcztyZXR1cm4gZT09PVwiaW1hZ2UvanBlZ1wiP3M9LjkyOmU9PT1cImltYWdlL3dlYnBcIiYmKHM9LjgpLGMuY29udmVydFRvQmxvYih7dHlwZTplLHF1YWxpdHk6c30pfVQocnMsXCJnZXRUb0Jsb2JQcm9taXNlXCIpO3ZhciBkZT1jbGFzcyBkZXtjb25zdHJ1Y3Rvcigpe3RoaXMucGx1Z2lucz1bXSx0aGlzLm9wdGlvbnM9e30sdGhpcy5wZW5kaW5nPVtdLHRoaXMuYnVmZmVycz1bXSx0aGlzLmJ5dGVPZmZzZXQ9MCx0aGlzLmJ1ZmZlcnM9W10sdGhpcy5ub2RlTWFwPW5ldyBNYXAsdGhpcy5za2lucz1bXSx0aGlzLmV4dGVuc2lvbnNVc2VkPXt9LHRoaXMuZXh0ZW5zaW9uc1JlcXVpcmVkPXt9LHRoaXMudWlkcz1uZXcgTWFwLHRoaXMudWlkPTAsdGhpcy5qc29uPXthc3NldDp7dmVyc2lvbjpcIjIuMFwiLGdlbmVyYXRvcjpcIlRIUkVFLkdMVEZFeHBvcnRlclwifX0sdGhpcy5jYWNoZT17bWVzaGVzOm5ldyBNYXAsYXR0cmlidXRlczpuZXcgTWFwLGF0dHJpYnV0ZXNOb3JtYWxpemVkOm5ldyBNYXAsbWF0ZXJpYWxzOm5ldyBNYXAsdGV4dHVyZXM6bmV3IE1hcCxpbWFnZXM6bmV3IE1hcH19c2V0UGx1Z2lucyhlKXt0aGlzLnBsdWdpbnM9ZX1hc3luYyB3cml0ZShlLHMscj17fSl7dGhpcy5vcHRpb25zPU9iamVjdC5hc3NpZ24oe2JpbmFyeTohMSx0cnM6ITEsb25seVZpc2libGU6ITAsbWF4VGV4dHVyZVNpemU6MS8wLGFuaW1hdGlvbnM6W10saW5jbHVkZUN1c3RvbUV4dGVuc2lvbnM6ITF9LHIpLHRoaXMub3B0aW9ucy5hbmltYXRpb25zLmxlbmd0aD4wJiYodGhpcy5vcHRpb25zLnRycz0hMCksdGhpcy5wcm9jZXNzSW5wdXQoZSksYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5wZW5kaW5nKTtsZXQgdD10aGlzLGk9dC5idWZmZXJzLG49dC5qc29uO3I9dC5vcHRpb25zO2xldCBvPXQuZXh0ZW5zaW9uc1VzZWQsYT10LmV4dGVuc2lvbnNSZXF1aXJlZCx1PW5ldyBCbG9iKGkse3R5cGU6XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn0pLHA9T2JqZWN0LmtleXMobyksZj1PYmplY3Qua2V5cyhhKTtpZihwLmxlbmd0aD4wJiYobi5leHRlbnNpb25zVXNlZD1wKSxmLmxlbmd0aD4wJiYobi5leHRlbnNpb25zUmVxdWlyZWQ9Ziksbi5idWZmZXJzJiZuLmJ1ZmZlcnMubGVuZ3RoPjAmJihuLmJ1ZmZlcnNbMF0uYnl0ZUxlbmd0aD11LnNpemUpLHIuYmluYXJ5PT09ITApe2xldCBtPW5ldyBGaWxlUmVhZGVyO20ucmVhZEFzQXJyYXlCdWZmZXIodSksbS5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXtsZXQgbD1aKG0ucmVzdWx0KSxkPW5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIodHMpKTtkLnNldFVpbnQzMigwLGwuYnl0ZUxlbmd0aCwhMCksZC5zZXRVaW50MzIoNCxocywhMCk7bGV0IGg9WihwcyhKU09OLnN0cmluZ2lmeShuKSksMzIpLHc9bmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcih0cykpO3cuc2V0VWludDMyKDAsaC5ieXRlTGVuZ3RoLCEwKSx3LnNldFVpbnQzMig0LGZzLCEwKTtsZXQgTT1uZXcgQXJyYXlCdWZmZXIoc3MpLE49bmV3IERhdGFWaWV3KE0pO04uc2V0VWludDMyKDAsdXMsITApLE4uc2V0VWludDMyKDQsbHMsITApO2xldCBrPXNzK3cuYnl0ZUxlbmd0aCtoLmJ5dGVMZW5ndGgrZC5ieXRlTGVuZ3RoK2wuYnl0ZUxlbmd0aDtOLnNldFVpbnQzMig4LGssITApO2xldCBnPW5ldyBCbG9iKFtNLHcsaCxkLGxdLHt0eXBlOlwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJ9KSx5PW5ldyBGaWxlUmVhZGVyO3kucmVhZEFzQXJyYXlCdWZmZXIoZykseS5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXtzKHkucmVzdWx0KX19fWVsc2UgaWYobi5idWZmZXJzJiZuLmJ1ZmZlcnMubGVuZ3RoPjApe2xldCBtPW5ldyBGaWxlUmVhZGVyO20ucmVhZEFzRGF0YVVSTCh1KSxtLm9ubG9hZGVuZD1mdW5jdGlvbigpe2xldCBsPW0ucmVzdWx0O24uYnVmZmVyc1swXS51cmk9bCxzKG4pfX1lbHNlIHMobil9c2VyaWFsaXplVXNlckRhdGEoZSxzKXtpZihPYmplY3Qua2V5cyhlLnVzZXJEYXRhKS5sZW5ndGg9PT0wKXJldHVybjtsZXQgcj10aGlzLm9wdGlvbnMsdD10aGlzLmV4dGVuc2lvbnNVc2VkO3RyeXtsZXQgaT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUudXNlckRhdGEpKTtpZihyLmluY2x1ZGVDdXN0b21FeHRlbnNpb25zJiZpLmdsdGZFeHRlbnNpb25zKXtzLmV4dGVuc2lvbnM9PT12b2lkIDAmJihzLmV4dGVuc2lvbnM9e30pO2ZvcihsZXQgbiBpbiBpLmdsdGZFeHRlbnNpb25zKXMuZXh0ZW5zaW9uc1tuXT1pLmdsdGZFeHRlbnNpb25zW25dLHRbbl09ITA7ZGVsZXRlIGkuZ2x0ZkV4dGVuc2lvbnN9T2JqZWN0LmtleXMoaSkubGVuZ3RoPjAmJihzLmV4dHJhcz1pKX1jYXRjaChpKXtjb25zb2xlLndhcm4oXCJUSFJFRS5HTFRGRXhwb3J0ZXI6IHVzZXJEYXRhIG9mICdcIitlLm5hbWUrXCInIHdvbid0IGJlIHNlcmlhbGl6ZWQgYmVjYXVzZSBvZiBKU09OLnN0cmluZ2lmeSBlcnJvciAtIFwiK2kubWVzc2FnZSl9fWdldFVJRChlLHM9ITEpe2lmKHRoaXMudWlkcy5oYXMoZSk9PT0hMSl7bGV0IHQ9bmV3IE1hcDt0LnNldCghMCx0aGlzLnVpZCsrKSx0LnNldCghMSx0aGlzLnVpZCsrKSx0aGlzLnVpZHMuc2V0KGUsdCl9cmV0dXJuIHRoaXMudWlkcy5nZXQoZSkuZ2V0KHMpfWlzTm9ybWFsaXplZE5vcm1hbEF0dHJpYnV0ZShlKXtpZih0aGlzLmNhY2hlLmF0dHJpYnV0ZXNOb3JtYWxpemVkLmhhcyhlKSlyZXR1cm4hMTtsZXQgcj1uZXcgRDtmb3IobGV0IHQ9MCxpPWUuY291bnQ7dDxpO3QrKylpZihNYXRoLmFicyhyLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0KS5sZW5ndGgoKS0xKT41ZS00KXJldHVybiExO3JldHVybiEwfWNyZWF0ZU5vcm1hbGl6ZWROb3JtYWxBdHRyaWJ1dGUoZSl7bGV0IHM9dGhpcy5jYWNoZTtpZihzLmF0dHJpYnV0ZXNOb3JtYWxpemVkLmhhcyhlKSlyZXR1cm4gcy5hdHRyaWJ1dGVzTm9ybWFsaXplZC5nZXQoZSk7bGV0IHI9ZS5jbG9uZSgpLHQ9bmV3IEQ7Zm9yKGxldCBpPTAsbj1yLmNvdW50O2k8bjtpKyspdC5mcm9tQnVmZmVyQXR0cmlidXRlKHIsaSksdC54PT09MCYmdC55PT09MCYmdC56PT09MD90LnNldFgoMSk6dC5ub3JtYWxpemUoKSxyLnNldFhZWihpLHQueCx0LnksdC56KTtyZXR1cm4gcy5hdHRyaWJ1dGVzTm9ybWFsaXplZC5zZXQoZSxyKSxyfWFwcGx5VGV4dHVyZVRyYW5zZm9ybShlLHMpe2xldCByPSExLHQ9e307KHMub2Zmc2V0LnghPT0wfHxzLm9mZnNldC55IT09MCkmJih0Lm9mZnNldD1zLm9mZnNldC50b0FycmF5KCkscj0hMCkscy5yb3RhdGlvbiE9PTAmJih0LnJvdGF0aW9uPXMucm90YXRpb24scj0hMCksKHMucmVwZWF0LnghPT0xfHxzLnJlcGVhdC55IT09MSkmJih0LnNjYWxlPXMucmVwZWF0LnRvQXJyYXkoKSxyPSEwKSxyJiYoZS5leHRlbnNpb25zPWUuZXh0ZW5zaW9uc3x8e30sZS5leHRlbnNpb25zLktIUl90ZXh0dXJlX3RyYW5zZm9ybT10LHRoaXMuZXh0ZW5zaW9uc1VzZWQuS0hSX3RleHR1cmVfdHJhbnNmb3JtPSEwKX1idWlsZE1ldGFsUm91Z2hUZXh0dXJlKGUscyl7aWYoZT09PXMpcmV0dXJuIGU7ZnVuY3Rpb24gcihsKXtyZXR1cm4gbC5jb2xvclNwYWNlPT09Vj9UKGZ1bmN0aW9uKGgpe3JldHVybiBoPC4wNDA0NT9oKi4wNzczOTkzODA4Ok1hdGgucG93KGgqLjk0Nzg2NzI5ODYrLjA1MjEzMjcwMTQsMi40KX0sXCJTUkdCVG9MaW5lYXJcIik6VChmdW5jdGlvbihoKXtyZXR1cm4gaH0sXCJMaW5lYXJUb0xpbmVhclwiKX1UKHIsXCJnZXRFbmNvZGluZ0NvbnZlcnNpb25cIiksY29uc29sZS53YXJuKFwiVEhSRUUuR0xURkV4cG9ydGVyOiBNZXJnZWQgbWV0YWxuZXNzTWFwIGFuZCByb3VnaG5lc3NNYXAgdGV4dHVyZXMuXCIpLGUgaW5zdGFuY2VvZiBZJiYoZT1qKGUpKSxzIGluc3RhbmNlb2YgWSYmKHM9aihzKSk7bGV0IHQ9ZT9lLmltYWdlOm51bGwsaT1zP3MuaW1hZ2U6bnVsbCxuPU1hdGgubWF4KHQ/dC53aWR0aDowLGk/aS53aWR0aDowKSxvPU1hdGgubWF4KHQ/dC5oZWlnaHQ6MCxpP2kuaGVpZ2h0OjApLGE9bnMoKTthLndpZHRoPW4sYS5oZWlnaHQ9bztsZXQgdT1hLmdldENvbnRleHQoXCIyZFwiKTt1LmZpbGxTdHlsZT1cIiMwMGZmZmZcIix1LmZpbGxSZWN0KDAsMCxuLG8pO2xldCBwPXUuZ2V0SW1hZ2VEYXRhKDAsMCxuLG8pO2lmKHQpe3UuZHJhd0ltYWdlKHQsMCwwLG4sbyk7bGV0IGw9cihlKSxkPXUuZ2V0SW1hZ2VEYXRhKDAsMCxuLG8pLmRhdGE7Zm9yKGxldCBoPTI7aDxkLmxlbmd0aDtoKz00KXAuZGF0YVtoXT1sKGRbaF0vMjU2KSoyNTZ9aWYoaSl7dS5kcmF3SW1hZ2UoaSwwLDAsbixvKTtsZXQgbD1yKHMpLGQ9dS5nZXRJbWFnZURhdGEoMCwwLG4sbykuZGF0YTtmb3IobGV0IGg9MTtoPGQubGVuZ3RoO2grPTQpcC5kYXRhW2hdPWwoZFtoXS8yNTYpKjI1Nn11LnB1dEltYWdlRGF0YShwLDAsMCk7bGV0IG09KGV8fHMpLmNsb25lKCk7cmV0dXJuIG0uc291cmNlPW5ldyBHZShhKSxtLmNvbG9yU3BhY2U9VmUsbS5jaGFubmVsPShlfHxzKS5jaGFubmVsLGUmJnMmJmUuY2hhbm5lbCE9PXMuY2hhbm5lbCYmY29uc29sZS53YXJuKFwiVEhSRUUuR0xURkV4cG9ydGVyOiBVViBjaGFubmVscyBmb3IgbWV0YWxuZXNzTWFwIGFuZCByb3VnaG5lc3NNYXAgdGV4dHVyZXMgbXVzdCBtYXRjaC5cIiksbX1wcm9jZXNzQnVmZmVyKGUpe2xldCBzPXRoaXMuanNvbixyPXRoaXMuYnVmZmVycztyZXR1cm4gcy5idWZmZXJzfHwocy5idWZmZXJzPVt7Ynl0ZUxlbmd0aDowfV0pLHIucHVzaChlKSwwfXByb2Nlc3NCdWZmZXJWaWV3KGUscyxyLHQsaSl7bGV0IG49dGhpcy5qc29uO24uYnVmZmVyVmlld3N8fChuLmJ1ZmZlclZpZXdzPVtdKTtsZXQgbztzd2l0Y2gocyl7Y2FzZSB4LkJZVEU6Y2FzZSB4LlVOU0lHTkVEX0JZVEU6bz0xO2JyZWFrO2Nhc2UgeC5TSE9SVDpjYXNlIHguVU5TSUdORURfU0hPUlQ6bz0yO2JyZWFrO2RlZmF1bHQ6bz00fWxldCBhPWlzKHQqZS5pdGVtU2l6ZSpvKSx1PW5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoYSkpLHA9MDtmb3IobGV0IGw9cjtsPHIrdDtsKyspZm9yKGxldCBkPTA7ZDxlLml0ZW1TaXplO2QrKyl7bGV0IGg7ZS5pdGVtU2l6ZT40P2g9ZS5hcnJheVtsKmUuaXRlbVNpemUrZF06KGQ9PT0wP2g9ZS5nZXRYKGwpOmQ9PT0xP2g9ZS5nZXRZKGwpOmQ9PT0yP2g9ZS5nZXRaKGwpOmQ9PT0zJiYoaD1lLmdldFcobCkpLGUubm9ybWFsaXplZD09PSEwJiYoaD1HLm5vcm1hbGl6ZShoLGUuYXJyYXkpKSkscz09PXguRkxPQVQ/dS5zZXRGbG9hdDMyKHAsaCwhMCk6cz09PXguSU5UP3Uuc2V0SW50MzIocCxoLCEwKTpzPT09eC5VTlNJR05FRF9JTlQ/dS5zZXRVaW50MzIocCxoLCEwKTpzPT09eC5TSE9SVD91LnNldEludDE2KHAsaCwhMCk6cz09PXguVU5TSUdORURfU0hPUlQ/dS5zZXRVaW50MTYocCxoLCEwKTpzPT09eC5CWVRFP3Uuc2V0SW50OChwLGgpOnM9PT14LlVOU0lHTkVEX0JZVEUmJnUuc2V0VWludDgocCxoKSxwKz1vfWxldCBmPXtidWZmZXI6dGhpcy5wcm9jZXNzQnVmZmVyKHUuYnVmZmVyKSxieXRlT2Zmc2V0OnRoaXMuYnl0ZU9mZnNldCxieXRlTGVuZ3RoOmF9O3JldHVybiBpIT09dm9pZCAwJiYoZi50YXJnZXQ9aSksaT09PXguQVJSQVlfQlVGRkVSJiYoZi5ieXRlU3RyaWRlPWUuaXRlbVNpemUqbyksdGhpcy5ieXRlT2Zmc2V0Kz1hLG4uYnVmZmVyVmlld3MucHVzaChmKSx7aWQ6bi5idWZmZXJWaWV3cy5sZW5ndGgtMSxieXRlTGVuZ3RoOjB9fXByb2Nlc3NCdWZmZXJWaWV3SW1hZ2UoZSl7bGV0IHM9dGhpcyxyPXMuanNvbjtyZXR1cm4gci5idWZmZXJWaWV3c3x8KHIuYnVmZmVyVmlld3M9W10pLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQpe2xldCBpPW5ldyBGaWxlUmVhZGVyO2kucmVhZEFzQXJyYXlCdWZmZXIoZSksaS5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXtsZXQgbj1aKGkucmVzdWx0KSxvPXtidWZmZXI6cy5wcm9jZXNzQnVmZmVyKG4pLGJ5dGVPZmZzZXQ6cy5ieXRlT2Zmc2V0LGJ5dGVMZW5ndGg6bi5ieXRlTGVuZ3RofTtzLmJ5dGVPZmZzZXQrPW4uYnl0ZUxlbmd0aCx0KHIuYnVmZmVyVmlld3MucHVzaChvKS0xKX19KX1wcm9jZXNzQWNjZXNzb3IoZSxzLHIsdCl7bGV0IGk9dGhpcy5qc29uLG49ezE6XCJTQ0FMQVJcIiwyOlwiVkVDMlwiLDM6XCJWRUMzXCIsNDpcIlZFQzRcIiw5OlwiTUFUM1wiLDE2OlwiTUFUNFwifSxvO2lmKGUuYXJyYXkuY29uc3RydWN0b3I9PT1GbG9hdDMyQXJyYXkpbz14LkZMT0FUO2Vsc2UgaWYoZS5hcnJheS5jb25zdHJ1Y3Rvcj09PUludDMyQXJyYXkpbz14LklOVDtlbHNlIGlmKGUuYXJyYXkuY29uc3RydWN0b3I9PT1VaW50MzJBcnJheSlvPXguVU5TSUdORURfSU5UO2Vsc2UgaWYoZS5hcnJheS5jb25zdHJ1Y3Rvcj09PUludDE2QXJyYXkpbz14LlNIT1JUO2Vsc2UgaWYoZS5hcnJheS5jb25zdHJ1Y3Rvcj09PVVpbnQxNkFycmF5KW89eC5VTlNJR05FRF9TSE9SVDtlbHNlIGlmKGUuYXJyYXkuY29uc3RydWN0b3I9PT1JbnQ4QXJyYXkpbz14LkJZVEU7ZWxzZSBpZihlLmFycmF5LmNvbnN0cnVjdG9yPT09VWludDhBcnJheSlvPXguVU5TSUdORURfQllURTtlbHNlIHRocm93IG5ldyBFcnJvcihcIlRIUkVFLkdMVEZFeHBvcnRlcjogVW5zdXBwb3J0ZWQgYnVmZmVyQXR0cmlidXRlIGNvbXBvbmVudCB0eXBlOiBcIitlLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUpO2lmKHI9PT12b2lkIDAmJihyPTApLCh0PT09dm9pZCAwfHx0PT09MS8wKSYmKHQ9ZS5jb3VudCksdD09PTApcmV0dXJuIG51bGw7bGV0IGE9Z3MoZSxyLHQpLHU7cyE9PXZvaWQgMCYmKHU9ZT09PXMuaW5kZXg/eC5FTEVNRU5UX0FSUkFZX0JVRkZFUjp4LkFSUkFZX0JVRkZFUik7bGV0IHA9dGhpcy5wcm9jZXNzQnVmZmVyVmlldyhlLG8scix0LHUpLGY9e2J1ZmZlclZpZXc6cC5pZCxieXRlT2Zmc2V0OnAuYnl0ZU9mZnNldCxjb21wb25lbnRUeXBlOm8sY291bnQ6dCxtYXg6YS5tYXgsbWluOmEubWluLHR5cGU6bltlLml0ZW1TaXplXX07cmV0dXJuIGUubm9ybWFsaXplZD09PSEwJiYoZi5ub3JtYWxpemVkPSEwKSxpLmFjY2Vzc29yc3x8KGkuYWNjZXNzb3JzPVtdKSxpLmFjY2Vzc29ycy5wdXNoKGYpLTF9cHJvY2Vzc0ltYWdlKGUscyxyLHQ9XCJpbWFnZS9wbmdcIil7aWYoZSE9PW51bGwpe2xldCBpPXRoaXMsbj1pLmNhY2hlLG89aS5qc29uLGE9aS5vcHRpb25zLHU9aS5wZW5kaW5nO24uaW1hZ2VzLmhhcyhlKXx8bi5pbWFnZXMuc2V0KGUse30pO2xldCBwPW4uaW1hZ2VzLmdldChlKSxmPXQrXCI6ZmxpcFkvXCIrci50b1N0cmluZygpO2lmKHBbZl0hPT12b2lkIDApcmV0dXJuIHBbZl07by5pbWFnZXN8fChvLmltYWdlcz1bXSk7bGV0IG09e21pbWVUeXBlOnR9LGw9bnMoKTtsLndpZHRoPU1hdGgubWluKGUud2lkdGgsYS5tYXhUZXh0dXJlU2l6ZSksbC5oZWlnaHQ9TWF0aC5taW4oZS5oZWlnaHQsYS5tYXhUZXh0dXJlU2l6ZSk7bGV0IGQ9bC5nZXRDb250ZXh0KFwiMmRcIik7aWYocj09PSEwJiYoZC50cmFuc2xhdGUoMCxsLmhlaWdodCksZC5zY2FsZSgxLC0xKSksZS5kYXRhIT09dm9pZCAwKXtzIT09RmUmJmNvbnNvbGUuZXJyb3IoXCJHTFRGRXhwb3J0ZXI6IE9ubHkgUkdCQUZvcm1hdCBpcyBzdXBwb3J0ZWQuXCIscyksKGUud2lkdGg+YS5tYXhUZXh0dXJlU2l6ZXx8ZS5oZWlnaHQ+YS5tYXhUZXh0dXJlU2l6ZSkmJmNvbnNvbGUud2FybihcIkdMVEZFeHBvcnRlcjogSW1hZ2Ugc2l6ZSBpcyBiaWdnZXIgdGhhbiBtYXhUZXh0dXJlU2l6ZVwiLGUpO2xldCB3PW5ldyBVaW50OENsYW1wZWRBcnJheShlLmhlaWdodCplLndpZHRoKjQpO2ZvcihsZXQgTT0wO008dy5sZW5ndGg7TSs9NCl3W00rMF09ZS5kYXRhW00rMF0sd1tNKzFdPWUuZGF0YVtNKzFdLHdbTSsyXT1lLmRhdGFbTSsyXSx3W00rM109ZS5kYXRhW00rM107ZC5wdXRJbWFnZURhdGEobmV3IEltYWdlRGF0YSh3LGUud2lkdGgsZS5oZWlnaHQpLDAsMCl9ZWxzZSBpZih0eXBlb2YgSFRNTEltYWdlRWxlbWVudDxcInVcIiYmZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnR8fHR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudDxcInVcIiYmZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHx0eXBlb2YgSW1hZ2VCaXRtYXA8XCJ1XCImJmUgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcClkLmRyYXdJbWFnZShlLDAsMCxsLndpZHRoLGwuaGVpZ2h0KTtlbHNlIHRocm93IG5ldyBFcnJvcihcIlRIUkVFLkdMVEZFeHBvcnRlcjogSW52YWxpZCBpbWFnZSB0eXBlLiBVc2UgSFRNTEltYWdlRWxlbWVudCwgSFRNTENhbnZhc0VsZW1lbnQgb3IgSW1hZ2VCaXRtYXAuXCIpO2EuYmluYXJ5PT09ITA/dS5wdXNoKHJzKGwsdCkudGhlbih3PT5pLnByb2Nlc3NCdWZmZXJWaWV3SW1hZ2UodykpLnRoZW4odz0+e20uYnVmZmVyVmlldz13fSkpOmwudG9EYXRhVVJMIT09dm9pZCAwP20udXJpPWwudG9EYXRhVVJMKHQpOnUucHVzaChycyhsLHQpLnRoZW4odz0+bmV3IEZpbGVSZWFkZXIoKS5yZWFkQXNEYXRhVVJMKHcpKS50aGVuKHc9PnttLnVyaT13fSkpO2xldCBoPW8uaW1hZ2VzLnB1c2gobSktMTtyZXR1cm4gcFtmXT1oLGh9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5HTFRGRXhwb3J0ZXI6IE5vIHZhbGlkIGltYWdlIGRhdGEgZm91bmQuIFVuYWJsZSB0byBwcm9jZXNzIHRleHR1cmUuXCIpfXByb2Nlc3NTYW1wbGVyKGUpe2xldCBzPXRoaXMuanNvbjtzLnNhbXBsZXJzfHwocy5zYW1wbGVycz1bXSk7bGV0IHI9e21hZ0ZpbHRlcjpiW2UubWFnRmlsdGVyXSxtaW5GaWx0ZXI6YltlLm1pbkZpbHRlcl0sd3JhcFM6YltlLndyYXBTXSx3cmFwVDpiW2Uud3JhcFRdfTtyZXR1cm4gcy5zYW1wbGVycy5wdXNoKHIpLTF9cHJvY2Vzc1RleHR1cmUoZSl7bGV0IHI9dGhpcy5vcHRpb25zLHQ9dGhpcy5jYWNoZSxpPXRoaXMuanNvbjtpZih0LnRleHR1cmVzLmhhcyhlKSlyZXR1cm4gdC50ZXh0dXJlcy5nZXQoZSk7aS50ZXh0dXJlc3x8KGkudGV4dHVyZXM9W10pLGUgaW5zdGFuY2VvZiBZJiYoZT1qKGUsci5tYXhUZXh0dXJlU2l6ZSkpO2xldCBuPWUudXNlckRhdGEubWltZVR5cGU7bj09PVwiaW1hZ2Uvd2VicFwiJiYobj1cImltYWdlL3BuZ1wiKTtsZXQgbz17c2FtcGxlcjp0aGlzLnByb2Nlc3NTYW1wbGVyKGUpLHNvdXJjZTp0aGlzLnByb2Nlc3NJbWFnZShlLmltYWdlLGUuZm9ybWF0LGUuZmxpcFksbil9O2UubmFtZSYmKG8ubmFtZT1lLm5hbWUpLHRoaXMuX2ludm9rZUFsbChmdW5jdGlvbih1KXt1LndyaXRlVGV4dHVyZSYmdS53cml0ZVRleHR1cmUoZSxvKX0pO2xldCBhPWkudGV4dHVyZXMucHVzaChvKS0xO3JldHVybiB0LnRleHR1cmVzLnNldChlLGEpLGF9cHJvY2Vzc01hdGVyaWFsKGUpe2xldCBzPXRoaXMuY2FjaGUscj10aGlzLmpzb247aWYocy5tYXRlcmlhbHMuaGFzKGUpKXJldHVybiBzLm1hdGVyaWFscy5nZXQoZSk7aWYoZS5pc1NoYWRlck1hdGVyaWFsKXJldHVybiBjb25zb2xlLndhcm4oXCJHTFRGRXhwb3J0ZXI6IFRIUkVFLlNoYWRlck1hdGVyaWFsIG5vdCBzdXBwb3J0ZWQuXCIpLG51bGw7ci5tYXRlcmlhbHN8fChyLm1hdGVyaWFscz1bXSk7bGV0IHQ9e3Bick1ldGFsbGljUm91Z2huZXNzOnt9fTtlLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWwhPT0hMCYmZS5pc01lc2hCYXNpY01hdGVyaWFsIT09ITAmJmNvbnNvbGUud2FybihcIkdMVEZFeHBvcnRlcjogVXNlIE1lc2hTdGFuZGFyZE1hdGVyaWFsIG9yIE1lc2hCYXNpY01hdGVyaWFsIGZvciBiZXN0IHJlc3VsdHMuXCIpO2xldCBpPWUuY29sb3IudG9BcnJheSgpLmNvbmNhdChbZS5vcGFjaXR5XSk7aWYoRihpLFsxLDEsMSwxXSl8fCh0LnBick1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3Rvcj1pKSxlLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/KHQucGJyTWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3I9ZS5tZXRhbG5lc3MsdC5wYnJNZXRhbGxpY1JvdWdobmVzcy5yb3VnaG5lc3NGYWN0b3I9ZS5yb3VnaG5lc3MpOih0LnBick1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljRmFjdG9yPS41LHQucGJyTWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yPS41KSxlLm1ldGFsbmVzc01hcHx8ZS5yb3VnaG5lc3NNYXApe2xldCBvPXRoaXMuYnVpbGRNZXRhbFJvdWdoVGV4dHVyZShlLm1ldGFsbmVzc01hcCxlLnJvdWdobmVzc01hcCksYT17aW5kZXg6dGhpcy5wcm9jZXNzVGV4dHVyZShvKSxjaGFubmVsOm8uY2hhbm5lbH07dGhpcy5hcHBseVRleHR1cmVUcmFuc2Zvcm0oYSxvKSx0LnBick1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZT1hfWlmKGUubWFwKXtsZXQgbz17aW5kZXg6dGhpcy5wcm9jZXNzVGV4dHVyZShlLm1hcCksdGV4Q29vcmQ6ZS5tYXAuY2hhbm5lbH07dGhpcy5hcHBseVRleHR1cmVUcmFuc2Zvcm0obyxlLm1hcCksdC5wYnJNZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlPW99aWYoZS5lbWlzc2l2ZSl7bGV0IG89ZS5lbWlzc2l2ZTtpZihNYXRoLm1heChvLnIsby5nLG8uYik+MCYmKHQuZW1pc3NpdmVGYWN0b3I9ZS5lbWlzc2l2ZS50b0FycmF5KCkpLGUuZW1pc3NpdmVNYXApe2xldCB1PXtpbmRleDp0aGlzLnByb2Nlc3NUZXh0dXJlKGUuZW1pc3NpdmVNYXApLHRleENvb3JkOmUuZW1pc3NpdmVNYXAuY2hhbm5lbH07dGhpcy5hcHBseVRleHR1cmVUcmFuc2Zvcm0odSxlLmVtaXNzaXZlTWFwKSx0LmVtaXNzaXZlVGV4dHVyZT11fX1pZihlLm5vcm1hbE1hcCl7bGV0IG89e2luZGV4OnRoaXMucHJvY2Vzc1RleHR1cmUoZS5ub3JtYWxNYXApLHRleENvb3JkOmUubm9ybWFsTWFwLmNoYW5uZWx9O2Uubm9ybWFsU2NhbGUmJmUubm9ybWFsU2NhbGUueCE9PTEmJihvLnNjYWxlPWUubm9ybWFsU2NhbGUueCksdGhpcy5hcHBseVRleHR1cmVUcmFuc2Zvcm0obyxlLm5vcm1hbE1hcCksdC5ub3JtYWxUZXh0dXJlPW99aWYoZS5hb01hcCl7bGV0IG89e2luZGV4OnRoaXMucHJvY2Vzc1RleHR1cmUoZS5hb01hcCksdGV4Q29vcmQ6ZS5hb01hcC5jaGFubmVsfTtlLmFvTWFwSW50ZW5zaXR5IT09MSYmKG8uc3RyZW5ndGg9ZS5hb01hcEludGVuc2l0eSksdGhpcy5hcHBseVRleHR1cmVUcmFuc2Zvcm0obyxlLmFvTWFwKSx0Lm9jY2x1c2lvblRleHR1cmU9b31lLnRyYW5zcGFyZW50P3QuYWxwaGFNb2RlPVwiQkxFTkRcIjplLmFscGhhVGVzdD4wJiYodC5hbHBoYU1vZGU9XCJNQVNLXCIsdC5hbHBoYUN1dG9mZj1lLmFscGhhVGVzdCksZS5zaWRlPT09X2UmJih0LmRvdWJsZVNpZGVkPSEwKSxlLm5hbWUhPT1cIlwiJiYodC5uYW1lPWUubmFtZSksdGhpcy5zZXJpYWxpemVVc2VyRGF0YShlLHQpLHRoaXMuX2ludm9rZUFsbChmdW5jdGlvbihvKXtvLndyaXRlTWF0ZXJpYWwmJm8ud3JpdGVNYXRlcmlhbChlLHQpfSk7bGV0IG49ci5tYXRlcmlhbHMucHVzaCh0KS0xO3JldHVybiBzLm1hdGVyaWFscy5zZXQoZSxuKSxufXByb2Nlc3NNZXNoKGUpe2xldCBzPXRoaXMuY2FjaGUscj10aGlzLmpzb24sdD1bZS5nZW9tZXRyeS51dWlkXTtpZihBcnJheS5pc0FycmF5KGUubWF0ZXJpYWwpKWZvcihsZXQgZz0wLHk9ZS5tYXRlcmlhbC5sZW5ndGg7Zzx5O2crKyl0LnB1c2goZS5tYXRlcmlhbFtnXS51dWlkKTtlbHNlIHQucHVzaChlLm1hdGVyaWFsLnV1aWQpO2xldCBpPXQuam9pbihcIjpcIik7aWYocy5tZXNoZXMuaGFzKGkpKXJldHVybiBzLm1lc2hlcy5nZXQoaSk7bGV0IG49ZS5nZW9tZXRyeSxvO2UuaXNMaW5lU2VnbWVudHM/bz14LkxJTkVTOmUuaXNMaW5lTG9vcD9vPXguTElORV9MT09QOmUuaXNMaW5lP289eC5MSU5FX1NUUklQOmUuaXNQb2ludHM/bz14LlBPSU5UUzpvPWUubWF0ZXJpYWwud2lyZWZyYW1lP3guTElORVM6eC5UUklBTkdMRVM7bGV0IGE9e30sdT17fSxwPVtdLGY9W10sbT17dXY6XCJURVhDT09SRF8wXCIsdXYxOlwiVEVYQ09PUkRfMVwiLHV2MjpcIlRFWENPT1JEXzJcIix1djM6XCJURVhDT09SRF8zXCIsY29sb3I6XCJDT0xPUl8wXCIsc2tpbldlaWdodDpcIldFSUdIVFNfMFwiLHNraW5JbmRleDpcIkpPSU5UU18wXCJ9LGw9bi5nZXRBdHRyaWJ1dGUoXCJub3JtYWxcIik7bCE9PXZvaWQgMCYmIXRoaXMuaXNOb3JtYWxpemVkTm9ybWFsQXR0cmlidXRlKGwpJiYoY29uc29sZS53YXJuKFwiVEhSRUUuR0xURkV4cG9ydGVyOiBDcmVhdGluZyBub3JtYWxpemVkIG5vcm1hbCBhdHRyaWJ1dGUgZnJvbSB0aGUgbm9uLW5vcm1hbGl6ZWQgb25lLlwiKSxuLnNldEF0dHJpYnV0ZShcIm5vcm1hbFwiLHRoaXMuY3JlYXRlTm9ybWFsaXplZE5vcm1hbEF0dHJpYnV0ZShsKSkpO2xldCBkPW51bGw7Zm9yKGxldCBnIGluIG4uYXR0cmlidXRlcyl7aWYoZy5zbGljZSgwLDUpPT09XCJtb3JwaFwiKWNvbnRpbnVlO2xldCB5PW4uYXR0cmlidXRlc1tnXTtpZihnPW1bZ118fGcudG9VcHBlckNhc2UoKSwvXihQT1NJVElPTnxOT1JNQUx8VEFOR0VOVHxURVhDT09SRF9cXGQrfENPTE9SX1xcZCt8Sk9JTlRTX1xcZCt8V0VJR0hUU19cXGQrKSQvLnRlc3QoZyl8fChnPVwiX1wiK2cpLHMuYXR0cmlidXRlcy5oYXModGhpcy5nZXRVSUQoeSkpKXt1W2ddPXMuYXR0cmlidXRlcy5nZXQodGhpcy5nZXRVSUQoeSkpO2NvbnRpbnVlfWQ9bnVsbDtsZXQgQT15LmFycmF5O2c9PT1cIkpPSU5UU18wXCImJiEoQSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KSYmIShBIGluc3RhbmNlb2YgVWludDhBcnJheSkmJihjb25zb2xlLndhcm4oJ0dMVEZFeHBvcnRlcjogQXR0cmlidXRlIFwic2tpbkluZGV4XCIgY29udmVydGVkIHRvIHR5cGUgVU5TSUdORURfU0hPUlQuJyksZD1uZXcgXyhuZXcgVWludDE2QXJyYXkoQSkseS5pdGVtU2l6ZSx5Lm5vcm1hbGl6ZWQpKTtsZXQgRT10aGlzLnByb2Nlc3NBY2Nlc3NvcihkfHx5LG4pO0UhPT1udWxsJiYoZy5zdGFydHNXaXRoKFwiX1wiKXx8dGhpcy5kZXRlY3RNZXNoUXVhbnRpemF0aW9uKGcseSksdVtnXT1FLHMuYXR0cmlidXRlcy5zZXQodGhpcy5nZXRVSUQoeSksRSkpfWlmKGwhPT12b2lkIDAmJm4uc2V0QXR0cmlidXRlKFwibm9ybWFsXCIsbCksT2JqZWN0LmtleXModSkubGVuZ3RoPT09MClyZXR1cm4gbnVsbDtpZihlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyE9PXZvaWQgMCYmZS5tb3JwaFRhcmdldEluZmx1ZW5jZXMubGVuZ3RoPjApe2xldCBnPVtdLHk9W10sST17fTtpZihlLm1vcnBoVGFyZ2V0RGljdGlvbmFyeSE9PXZvaWQgMClmb3IobGV0IEEgaW4gZS5tb3JwaFRhcmdldERpY3Rpb25hcnkpSVtlLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtBXV09QTtmb3IobGV0IEE9MDtBPGUubW9ycGhUYXJnZXRJbmZsdWVuY2VzLmxlbmd0aDsrK0Epe2xldCBFPXt9LFNlPSExO2ZvcihsZXQgdiBpbiBuLm1vcnBoQXR0cmlidXRlcyl7aWYodiE9PVwicG9zaXRpb25cIiYmdiE9PVwibm9ybWFsXCIpe1NlfHwoY29uc29sZS53YXJuKFwiR0xURkV4cG9ydGVyOiBPbmx5IFBPU0lUSU9OIGFuZCBOT1JNQUwgbW9ycGggYXJlIHN1cHBvcnRlZC5cIiksU2U9ITApO2NvbnRpbnVlfWxldCBTPW4ubW9ycGhBdHRyaWJ1dGVzW3ZdW0FdLFg9di50b1VwcGVyQ2FzZSgpLEw9bi5hdHRyaWJ1dGVzW3ZdO2lmKHMuYXR0cmlidXRlcy5oYXModGhpcy5nZXRVSUQoUywhMCkpKXtFW1hdPXMuYXR0cmlidXRlcy5nZXQodGhpcy5nZXRVSUQoUywhMCkpO2NvbnRpbnVlfWxldCBPPVMuY2xvbmUoKTtpZighbi5tb3JwaFRhcmdldHNSZWxhdGl2ZSlmb3IobGV0IFI9MCxvcz1TLmNvdW50O1I8b3M7UisrKWZvcihsZXQgQz0wO0M8Uy5pdGVtU2l6ZTtDKyspQz09PTAmJk8uc2V0WChSLFMuZ2V0WChSKS1MLmdldFgoUikpLEM9PT0xJiZPLnNldFkoUixTLmdldFkoUiktTC5nZXRZKFIpKSxDPT09MiYmTy5zZXRaKFIsUy5nZXRaKFIpLUwuZ2V0WihSKSksQz09PTMmJk8uc2V0VyhSLFMuZ2V0VyhSKS1MLmdldFcoUikpO0VbWF09dGhpcy5wcm9jZXNzQWNjZXNzb3IoTyxuKSxzLmF0dHJpYnV0ZXMuc2V0KHRoaXMuZ2V0VUlEKEwsITApLEVbWF0pfWYucHVzaChFKSxnLnB1c2goZS5tb3JwaFRhcmdldEluZmx1ZW5jZXNbQV0pLGUubW9ycGhUYXJnZXREaWN0aW9uYXJ5IT09dm9pZCAwJiZ5LnB1c2goSVtBXSl9YS53ZWlnaHRzPWcseS5sZW5ndGg+MCYmKGEuZXh0cmFzPXt9LGEuZXh0cmFzLnRhcmdldE5hbWVzPXkpfWxldCBoPUFycmF5LmlzQXJyYXkoZS5tYXRlcmlhbCk7aWYoaCYmbi5ncm91cHMubGVuZ3RoPT09MClyZXR1cm4gbnVsbDtsZXQgdz0hMTtpZihoJiZuLmluZGV4PT09bnVsbCl7bGV0IGc9W107Zm9yKGxldCB5PTAsST1uLmF0dHJpYnV0ZXMucG9zaXRpb24uY291bnQ7eTxJO3krKylnW3ldPXk7bi5zZXRJbmRleChnKSx3PSEwfWxldCBNPWg/ZS5tYXRlcmlhbDpbZS5tYXRlcmlhbF0sTj1oP24uZ3JvdXBzOlt7bWF0ZXJpYWxJbmRleDowLHN0YXJ0OnZvaWQgMCxjb3VudDp2b2lkIDB9XTtmb3IobGV0IGc9MCx5PU4ubGVuZ3RoO2c8eTtnKyspe2xldCBJPXttb2RlOm8sYXR0cmlidXRlczp1fTtpZih0aGlzLnNlcmlhbGl6ZVVzZXJEYXRhKG4sSSksZi5sZW5ndGg+MCYmKEkudGFyZ2V0cz1mKSxuLmluZGV4IT09bnVsbCl7bGV0IEU9dGhpcy5nZXRVSUQobi5pbmRleCk7KE5bZ10uc3RhcnQhPT12b2lkIDB8fE5bZ10uY291bnQhPT12b2lkIDApJiYoRSs9XCI6XCIrTltnXS5zdGFydCtcIjpcIitOW2ddLmNvdW50KSxzLmF0dHJpYnV0ZXMuaGFzKEUpP0kuaW5kaWNlcz1zLmF0dHJpYnV0ZXMuZ2V0KEUpOihJLmluZGljZXM9dGhpcy5wcm9jZXNzQWNjZXNzb3Iobi5pbmRleCxuLE5bZ10uc3RhcnQsTltnXS5jb3VudCkscy5hdHRyaWJ1dGVzLnNldChFLEkuaW5kaWNlcykpLEkuaW5kaWNlcz09PW51bGwmJmRlbGV0ZSBJLmluZGljZXN9bGV0IEE9dGhpcy5wcm9jZXNzTWF0ZXJpYWwoTVtOW2ddLm1hdGVyaWFsSW5kZXhdKTtBIT09bnVsbCYmKEkubWF0ZXJpYWw9QSkscC5wdXNoKEkpfXc9PT0hMCYmbi5zZXRJbmRleChudWxsKSxhLnByaW1pdGl2ZXM9cCxyLm1lc2hlc3x8KHIubWVzaGVzPVtdKSx0aGlzLl9pbnZva2VBbGwoZnVuY3Rpb24oZyl7Zy53cml0ZU1lc2gmJmcud3JpdGVNZXNoKGUsYSl9KTtsZXQgaz1yLm1lc2hlcy5wdXNoKGEpLTE7cmV0dXJuIHMubWVzaGVzLnNldChpLGspLGt9ZGV0ZWN0TWVzaFF1YW50aXphdGlvbihlLHMpe2lmKHRoaXMuZXh0ZW5zaW9uc1VzZWRbUV0pcmV0dXJuO2xldCByO3N3aXRjaChzLmFycmF5LmNvbnN0cnVjdG9yKXtjYXNlIEludDhBcnJheTpyPVwiYnl0ZVwiO2JyZWFrO2Nhc2UgVWludDhBcnJheTpyPVwidW5zaWduZWQgYnl0ZVwiO2JyZWFrO2Nhc2UgSW50MTZBcnJheTpyPVwic2hvcnRcIjticmVhaztjYXNlIFVpbnQxNkFycmF5OnI9XCJ1bnNpZ25lZCBzaG9ydFwiO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXMubm9ybWFsaXplZCYmKHIrPVwiIG5vcm1hbGl6ZWRcIik7bGV0IHQ9ZS5zcGxpdChcIl9cIiwxKVswXTskZVt0XSYmJGVbdF0uaW5jbHVkZXMocikmJih0aGlzLmV4dGVuc2lvbnNVc2VkW1FdPSEwLHRoaXMuZXh0ZW5zaW9uc1JlcXVpcmVkW1FdPSEwKX1wcm9jZXNzQ2FtZXJhKGUpe2xldCBzPXRoaXMuanNvbjtzLmNhbWVyYXN8fChzLmNhbWVyYXM9W10pO2xldCByPWUuaXNPcnRob2dyYXBoaWNDYW1lcmEsdD17dHlwZTpyP1wib3J0aG9ncmFwaGljXCI6XCJwZXJzcGVjdGl2ZVwifTtyZXR1cm4gcj90Lm9ydGhvZ3JhcGhpYz17eG1hZzplLnJpZ2h0KjIseW1hZzplLnRvcCoyLHpmYXI6ZS5mYXI8PTA/LjAwMTplLmZhcix6bmVhcjplLm5lYXI8MD8wOmUubmVhcn06dC5wZXJzcGVjdGl2ZT17YXNwZWN0UmF0aW86ZS5hc3BlY3QseWZvdjpHLmRlZ1RvUmFkKGUuZm92KSx6ZmFyOmUuZmFyPD0wPy4wMDE6ZS5mYXIsem5lYXI6ZS5uZWFyPDA/MDplLm5lYXJ9LGUubmFtZSE9PVwiXCImJih0Lm5hbWU9ZS50eXBlKSxzLmNhbWVyYXMucHVzaCh0KS0xfXByb2Nlc3NBbmltYXRpb24oZSxzKXtsZXQgcj10aGlzLmpzb24sdD10aGlzLm5vZGVNYXA7ci5hbmltYXRpb25zfHwoci5hbmltYXRpb25zPVtdKSxlPXEuVXRpbHMubWVyZ2VNb3JwaFRhcmdldFRyYWNrcyhlLmNsb25lKCkscyk7bGV0IGk9ZS50cmFja3Msbj1bXSxvPVtdO2ZvcihsZXQgYT0wO2E8aS5sZW5ndGg7KythKXtsZXQgdT1pW2FdLHA9ei5wYXJzZVRyYWNrTmFtZSh1Lm5hbWUpLGY9ei5maW5kTm9kZShzLHAubm9kZU5hbWUpLG09ZXNbcC5wcm9wZXJ0eU5hbWVdO2lmKHAub2JqZWN0TmFtZT09PVwiYm9uZXNcIiYmKGYuaXNTa2lubmVkTWVzaD09PSEwP2Y9Zi5za2VsZXRvbi5nZXRCb25lQnlOYW1lKHAub2JqZWN0SW5kZXgpOmY9dm9pZCAwKSwhZnx8IW0pcmV0dXJuIGNvbnNvbGUud2FybignVEhSRUUuR0xURkV4cG9ydGVyOiBDb3VsZCBub3QgZXhwb3J0IGFuaW1hdGlvbiB0cmFjayBcIiVzXCIuJyx1Lm5hbWUpLG51bGw7bGV0IGw9MSxkPXUudmFsdWVzLmxlbmd0aC91LnRpbWVzLmxlbmd0aDttPT09ZXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzJiYoZC89Zi5tb3JwaFRhcmdldEluZmx1ZW5jZXMubGVuZ3RoKTtsZXQgaDt1LmNyZWF0ZUludGVycG9sYW50LmlzSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kR0xURkN1YmljU3BsaW5lPT09ITA/KGg9XCJDVUJJQ1NQTElORVwiLGQvPTMpOnUuZ2V0SW50ZXJwb2xhdGlvbigpPT09a2U/aD1cIlNURVBcIjpoPVwiTElORUFSXCIsby5wdXNoKHtpbnB1dDp0aGlzLnByb2Nlc3NBY2Nlc3NvcihuZXcgXyh1LnRpbWVzLGwpKSxvdXRwdXQ6dGhpcy5wcm9jZXNzQWNjZXNzb3IobmV3IF8odS52YWx1ZXMsZCkpLGludGVycG9sYXRpb246aH0pLG4ucHVzaCh7c2FtcGxlcjpvLmxlbmd0aC0xLHRhcmdldDp7bm9kZTp0LmdldChmKSxwYXRoOm19fSl9cmV0dXJuIHIuYW5pbWF0aW9ucy5wdXNoKHtuYW1lOmUubmFtZXx8XCJjbGlwX1wiK3IuYW5pbWF0aW9ucy5sZW5ndGgsc2FtcGxlcnM6byxjaGFubmVsczpufSksci5hbmltYXRpb25zLmxlbmd0aC0xfXByb2Nlc3NTa2luKGUpe2xldCBzPXRoaXMuanNvbixyPXRoaXMubm9kZU1hcCx0PXMubm9kZXNbci5nZXQoZSldLGk9ZS5za2VsZXRvbjtpZihpPT09dm9pZCAwKXJldHVybiBudWxsO2xldCBuPWUuc2tlbGV0b24uYm9uZXNbMF07aWYobj09PXZvaWQgMClyZXR1cm4gbnVsbDtsZXQgbz1bXSxhPW5ldyBGbG9hdDMyQXJyYXkoaS5ib25lcy5sZW5ndGgqMTYpLHU9bmV3IFc7Zm9yKGxldCBmPTA7ZjxpLmJvbmVzLmxlbmd0aDsrK2Ypby5wdXNoKHIuZ2V0KGkuYm9uZXNbZl0pKSx1LmNvcHkoaS5ib25lSW52ZXJzZXNbZl0pLHUubXVsdGlwbHkoZS5iaW5kTWF0cml4KS50b0FycmF5KGEsZioxNik7cmV0dXJuIHMuc2tpbnM9PT12b2lkIDAmJihzLnNraW5zPVtdKSxzLnNraW5zLnB1c2goe2ludmVyc2VCaW5kTWF0cmljZXM6dGhpcy5wcm9jZXNzQWNjZXNzb3IobmV3IF8oYSwxNikpLGpvaW50czpvLHNrZWxldG9uOnIuZ2V0KG4pfSksdC5za2luPXMuc2tpbnMubGVuZ3RoLTF9cHJvY2Vzc05vZGUoZSl7bGV0IHM9dGhpcy5qc29uLHI9dGhpcy5vcHRpb25zLHQ9dGhpcy5ub2RlTWFwO3Mubm9kZXN8fChzLm5vZGVzPVtdKTtsZXQgaT17fTtpZihyLnRycyl7bGV0IG89ZS5xdWF0ZXJuaW9uLnRvQXJyYXkoKSxhPWUucG9zaXRpb24udG9BcnJheSgpLHU9ZS5zY2FsZS50b0FycmF5KCk7RihvLFswLDAsMCwxXSl8fChpLnJvdGF0aW9uPW8pLEYoYSxbMCwwLDBdKXx8KGkudHJhbnNsYXRpb249YSksRih1LFsxLDEsMV0pfHwoaS5zY2FsZT11KX1lbHNlIGUubWF0cml4QXV0b1VwZGF0ZSYmZS51cGRhdGVNYXRyaXgoKSxkcyhlLm1hdHJpeCk9PT0hMSYmKGkubWF0cml4PWUubWF0cml4LmVsZW1lbnRzKTtpZihlLm5hbWUhPT1cIlwiJiYoaS5uYW1lPVN0cmluZyhlLm5hbWUpKSx0aGlzLnNlcmlhbGl6ZVVzZXJEYXRhKGUsaSksZS5pc01lc2h8fGUuaXNMaW5lfHxlLmlzUG9pbnRzKXtsZXQgbz10aGlzLnByb2Nlc3NNZXNoKGUpO28hPT1udWxsJiYoaS5tZXNoPW8pfWVsc2UgZS5pc0NhbWVyYSYmKGkuY2FtZXJhPXRoaXMucHJvY2Vzc0NhbWVyYShlKSk7aWYoZS5pc1NraW5uZWRNZXNoJiZ0aGlzLnNraW5zLnB1c2goZSksZS5jaGlsZHJlbi5sZW5ndGg+MCl7bGV0IG89W107Zm9yKGxldCBhPTAsdT1lLmNoaWxkcmVuLmxlbmd0aDthPHU7YSsrKXtsZXQgcD1lLmNoaWxkcmVuW2FdO2lmKHAudmlzaWJsZXx8ci5vbmx5VmlzaWJsZT09PSExKXtsZXQgZj10aGlzLnByb2Nlc3NOb2RlKHApO2YhPT1udWxsJiZvLnB1c2goZil9fW8ubGVuZ3RoPjAmJihpLmNoaWxkcmVuPW8pfXRoaXMuX2ludm9rZUFsbChmdW5jdGlvbihvKXtvLndyaXRlTm9kZSYmby53cml0ZU5vZGUoZSxpKX0pO2xldCBuPXMubm9kZXMucHVzaChpKS0xO3JldHVybiB0LnNldChlLG4pLG59cHJvY2Vzc1NjZW5lKGUpe2xldCBzPXRoaXMuanNvbixyPXRoaXMub3B0aW9ucztzLnNjZW5lc3x8KHMuc2NlbmVzPVtdLHMuc2NlbmU9MCk7bGV0IHQ9e307ZS5uYW1lIT09XCJcIiYmKHQubmFtZT1lLm5hbWUpLHMuc2NlbmVzLnB1c2godCk7bGV0IGk9W107Zm9yKGxldCBuPTAsbz1lLmNoaWxkcmVuLmxlbmd0aDtuPG87bisrKXtsZXQgYT1lLmNoaWxkcmVuW25dO2lmKGEudmlzaWJsZXx8ci5vbmx5VmlzaWJsZT09PSExKXtsZXQgdT10aGlzLnByb2Nlc3NOb2RlKGEpO3UhPT1udWxsJiZpLnB1c2godSl9fWkubGVuZ3RoPjAmJih0Lm5vZGVzPWkpLHRoaXMuc2VyaWFsaXplVXNlckRhdGEoZSx0KX1wcm9jZXNzT2JqZWN0cyhlKXtsZXQgcz1uZXcgUDtzLm5hbWU9XCJBdXhTY2VuZVwiO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXMuY2hpbGRyZW4ucHVzaChlW3JdKTt0aGlzLnByb2Nlc3NTY2VuZShzKX1wcm9jZXNzSW5wdXQoZSl7bGV0IHM9dGhpcy5vcHRpb25zO2U9ZSBpbnN0YW5jZW9mIEFycmF5P2U6W2VdLHRoaXMuX2ludm9rZUFsbChmdW5jdGlvbih0KXt0LmJlZm9yZVBhcnNlJiZ0LmJlZm9yZVBhcnNlKGUpfSk7bGV0IHI9W107Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XWluc3RhbmNlb2YgUD90aGlzLnByb2Nlc3NTY2VuZShlW3RdKTpyLnB1c2goZVt0XSk7ci5sZW5ndGg+MCYmdGhpcy5wcm9jZXNzT2JqZWN0cyhyKTtmb3IobGV0IHQ9MDt0PHRoaXMuc2tpbnMubGVuZ3RoOysrdCl0aGlzLnByb2Nlc3NTa2luKHRoaXMuc2tpbnNbdF0pO2ZvcihsZXQgdD0wO3Q8cy5hbmltYXRpb25zLmxlbmd0aDsrK3QpdGhpcy5wcm9jZXNzQW5pbWF0aW9uKHMuYW5pbWF0aW9uc1t0XSxlWzBdKTt0aGlzLl9pbnZva2VBbGwoZnVuY3Rpb24odCl7dC5hZnRlclBhcnNlJiZ0LmFmdGVyUGFyc2UoZSl9KX1faW52b2tlQWxsKGUpe2ZvcihsZXQgcz0wLHI9dGhpcy5wbHVnaW5zLmxlbmd0aDtzPHI7cysrKWUodGhpcy5wbHVnaW5zW3NdKX19O1QoZGUsXCJHTFRGV3JpdGVyXCIpO3ZhciAkPWRlLGdlPWNsYXNzIGdle2NvbnN0cnVjdG9yKGUpe3RoaXMud3JpdGVyPWUsdGhpcy5uYW1lPVwiS0hSX2xpZ2h0c19wdW5jdHVhbFwifXdyaXRlTm9kZShlLHMpe2lmKCFlLmlzTGlnaHQpcmV0dXJuO2lmKCFlLmlzRGlyZWN0aW9uYWxMaWdodCYmIWUuaXNQb2ludExpZ2h0JiYhZS5pc1Nwb3RMaWdodCl7Y29uc29sZS53YXJuKFwiVEhSRUUuR0xURkV4cG9ydGVyOiBPbmx5IGRpcmVjdGlvbmFsLCBwb2ludCwgYW5kIHNwb3QgbGlnaHRzIGFyZSBzdXBwb3J0ZWQuXCIsZSk7cmV0dXJufWxldCByPXRoaXMud3JpdGVyLHQ9ci5qc29uLGk9ci5leHRlbnNpb25zVXNlZCxuPXt9O2UubmFtZSYmKG4ubmFtZT1lLm5hbWUpLG4uY29sb3I9ZS5jb2xvci50b0FycmF5KCksbi5pbnRlbnNpdHk9ZS5pbnRlbnNpdHksZS5pc0RpcmVjdGlvbmFsTGlnaHQ/bi50eXBlPVwiZGlyZWN0aW9uYWxcIjplLmlzUG9pbnRMaWdodD8obi50eXBlPVwicG9pbnRcIixlLmRpc3RhbmNlPjAmJihuLnJhbmdlPWUuZGlzdGFuY2UpKTplLmlzU3BvdExpZ2h0JiYobi50eXBlPVwic3BvdFwiLGUuZGlzdGFuY2U+MCYmKG4ucmFuZ2U9ZS5kaXN0YW5jZSksbi5zcG90PXt9LG4uc3BvdC5pbm5lckNvbmVBbmdsZT0oMS1lLnBlbnVtYnJhKSplLmFuZ2xlLG4uc3BvdC5vdXRlckNvbmVBbmdsZT1lLmFuZ2xlKSxlLmRlY2F5IT09dm9pZCAwJiZlLmRlY2F5IT09MiYmY29uc29sZS53YXJuKFwiVEhSRUUuR0xURkV4cG9ydGVyOiBMaWdodCBkZWNheSBtYXkgYmUgbG9zdC4gZ2xURiBpcyBwaHlzaWNhbGx5LWJhc2VkLCBhbmQgZXhwZWN0cyBsaWdodC5kZWNheT0yLlwiKSxlLnRhcmdldCYmKGUudGFyZ2V0LnBhcmVudCE9PWV8fGUudGFyZ2V0LnBvc2l0aW9uLnghPT0wfHxlLnRhcmdldC5wb3NpdGlvbi55IT09MHx8ZS50YXJnZXQucG9zaXRpb24ueiE9PS0xKSYmY29uc29sZS53YXJuKFwiVEhSRUUuR0xURkV4cG9ydGVyOiBMaWdodCBkaXJlY3Rpb24gbWF5IGJlIGxvc3QuIEZvciBiZXN0IHJlc3VsdHMsIG1ha2UgbGlnaHQudGFyZ2V0IGEgY2hpbGQgb2YgdGhlIGxpZ2h0IHdpdGggcG9zaXRpb24gMCwwLC0xLlwiKSxpW3RoaXMubmFtZV18fCh0LmV4dGVuc2lvbnM9dC5leHRlbnNpb25zfHx7fSx0LmV4dGVuc2lvbnNbdGhpcy5uYW1lXT17bGlnaHRzOltdfSxpW3RoaXMubmFtZV09ITApO2xldCBvPXQuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdLmxpZ2h0cztvLnB1c2gobikscy5leHRlbnNpb25zPXMuZXh0ZW5zaW9uc3x8e30scy5leHRlbnNpb25zW3RoaXMubmFtZV09e2xpZ2h0Om8ubGVuZ3RoLTF9fX07VChnZSxcIkdMVEZMaWdodEV4dGVuc2lvblwiKTt2YXIgZWU9Z2UseGU9Y2xhc3MgeGV7Y29uc3RydWN0b3IoZSl7dGhpcy53cml0ZXI9ZSx0aGlzLm5hbWU9XCJLSFJfbWF0ZXJpYWxzX3VubGl0XCJ9d3JpdGVNYXRlcmlhbChlLHMpe2lmKCFlLmlzTWVzaEJhc2ljTWF0ZXJpYWwpcmV0dXJuO2xldCB0PXRoaXMud3JpdGVyLmV4dGVuc2lvbnNVc2VkO3MuZXh0ZW5zaW9ucz1zLmV4dGVuc2lvbnN8fHt9LHMuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdPXt9LHRbdGhpcy5uYW1lXT0hMCxzLnBick1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljRmFjdG9yPTAscy5wYnJNZXRhbGxpY1JvdWdobmVzcy5yb3VnaG5lc3NGYWN0b3I9Ljl9fTtUKHhlLFwiR0xURk1hdGVyaWFsc1VubGl0RXh0ZW5zaW9uXCIpO3ZhciBzZT14ZSxtZT1jbGFzcyBtZXtjb25zdHJ1Y3RvcihlKXt0aGlzLndyaXRlcj1lLHRoaXMubmFtZT1cIktIUl9tYXRlcmlhbHNfY2xlYXJjb2F0XCJ9d3JpdGVNYXRlcmlhbChlLHMpe2lmKCFlLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWx8fGUuY2xlYXJjb2F0PT09MClyZXR1cm47bGV0IHI9dGhpcy53cml0ZXIsdD1yLmV4dGVuc2lvbnNVc2VkLGk9e307aWYoaS5jbGVhcmNvYXRGYWN0b3I9ZS5jbGVhcmNvYXQsZS5jbGVhcmNvYXRNYXApe2xldCBuPXtpbmRleDpyLnByb2Nlc3NUZXh0dXJlKGUuY2xlYXJjb2F0TWFwKSx0ZXhDb29yZDplLmNsZWFyY29hdE1hcC5jaGFubmVsfTtyLmFwcGx5VGV4dHVyZVRyYW5zZm9ybShuLGUuY2xlYXJjb2F0TWFwKSxpLmNsZWFyY29hdFRleHR1cmU9bn1pZihpLmNsZWFyY29hdFJvdWdobmVzc0ZhY3Rvcj1lLmNsZWFyY29hdFJvdWdobmVzcyxlLmNsZWFyY29hdFJvdWdobmVzc01hcCl7bGV0IG49e2luZGV4OnIucHJvY2Vzc1RleHR1cmUoZS5jbGVhcmNvYXRSb3VnaG5lc3NNYXApLHRleENvb3JkOmUuY2xlYXJjb2F0Um91Z2huZXNzTWFwLmNoYW5uZWx9O3IuYXBwbHlUZXh0dXJlVHJhbnNmb3JtKG4sZS5jbGVhcmNvYXRSb3VnaG5lc3NNYXApLGkuY2xlYXJjb2F0Um91Z2huZXNzVGV4dHVyZT1ufWlmKGUuY2xlYXJjb2F0Tm9ybWFsTWFwKXtsZXQgbj17aW5kZXg6ci5wcm9jZXNzVGV4dHVyZShlLmNsZWFyY29hdE5vcm1hbE1hcCksdGV4Q29vcmQ6ZS5jbGVhcmNvYXROb3JtYWxNYXAuY2hhbm5lbH07ci5hcHBseVRleHR1cmVUcmFuc2Zvcm0obixlLmNsZWFyY29hdE5vcm1hbE1hcCksaS5jbGVhcmNvYXROb3JtYWxUZXh0dXJlPW59cy5leHRlbnNpb25zPXMuZXh0ZW5zaW9uc3x8e30scy5leHRlbnNpb25zW3RoaXMubmFtZV09aSx0W3RoaXMubmFtZV09ITB9fTtUKG1lLFwiR0xURk1hdGVyaWFsc0NsZWFyY29hdEV4dGVuc2lvblwiKTt2YXIgdGU9bWUsVGU9Y2xhc3MgVGV7Y29uc3RydWN0b3IoZSl7dGhpcy53cml0ZXI9ZSx0aGlzLm5hbWU9XCJLSFJfbWF0ZXJpYWxzX2lyaWRlc2NlbmNlXCJ9d3JpdGVNYXRlcmlhbChlLHMpe2lmKCFlLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWx8fGUuaXJpZGVzY2VuY2U9PT0wKXJldHVybjtsZXQgcj10aGlzLndyaXRlcix0PXIuZXh0ZW5zaW9uc1VzZWQsaT17fTtpZihpLmlyaWRlc2NlbmNlRmFjdG9yPWUuaXJpZGVzY2VuY2UsZS5pcmlkZXNjZW5jZU1hcCl7bGV0IG49e2luZGV4OnIucHJvY2Vzc1RleHR1cmUoZS5pcmlkZXNjZW5jZU1hcCksdGV4Q29vcmQ6ZS5pcmlkZXNjZW5jZU1hcC5jaGFubmVsfTtyLmFwcGx5VGV4dHVyZVRyYW5zZm9ybShuLGUuaXJpZGVzY2VuY2VNYXApLGkuaXJpZGVzY2VuY2VUZXh0dXJlPW59aWYoaS5pcmlkZXNjZW5jZUlvcj1lLmlyaWRlc2NlbmNlSU9SLGkuaXJpZGVzY2VuY2VUaGlja25lc3NNaW5pbXVtPWUuaXJpZGVzY2VuY2VUaGlja25lc3NSYW5nZVswXSxpLmlyaWRlc2NlbmNlVGhpY2tuZXNzTWF4aW11bT1lLmlyaWRlc2NlbmNlVGhpY2tuZXNzUmFuZ2VbMV0sZS5pcmlkZXNjZW5jZVRoaWNrbmVzc01hcCl7bGV0IG49e2luZGV4OnIucHJvY2Vzc1RleHR1cmUoZS5pcmlkZXNjZW5jZVRoaWNrbmVzc01hcCksdGV4Q29vcmQ6ZS5pcmlkZXNjZW5jZVRoaWNrbmVzc01hcC5jaGFubmVsfTtyLmFwcGx5VGV4dHVyZVRyYW5zZm9ybShuLGUuaXJpZGVzY2VuY2VUaGlja25lc3NNYXApLGkuaXJpZGVzY2VuY2VUaGlja25lc3NUZXh0dXJlPW59cy5leHRlbnNpb25zPXMuZXh0ZW5zaW9uc3x8e30scy5leHRlbnNpb25zW3RoaXMubmFtZV09aSx0W3RoaXMubmFtZV09ITB9fTtUKFRlLFwiR0xURk1hdGVyaWFsc0lyaWRlc2NlbmNlRXh0ZW5zaW9uXCIpO3ZhciBuZT1UZSx5ZT1jbGFzcyB5ZXtjb25zdHJ1Y3RvcihlKXt0aGlzLndyaXRlcj1lLHRoaXMubmFtZT1cIktIUl9tYXRlcmlhbHNfdHJhbnNtaXNzaW9uXCJ9d3JpdGVNYXRlcmlhbChlLHMpe2lmKCFlLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWx8fGUudHJhbnNtaXNzaW9uPT09MClyZXR1cm47bGV0IHI9dGhpcy53cml0ZXIsdD1yLmV4dGVuc2lvbnNVc2VkLGk9e307aWYoaS50cmFuc21pc3Npb25GYWN0b3I9ZS50cmFuc21pc3Npb24sZS50cmFuc21pc3Npb25NYXApe2xldCBuPXtpbmRleDpyLnByb2Nlc3NUZXh0dXJlKGUudHJhbnNtaXNzaW9uTWFwKSx0ZXhDb29yZDplLnRyYW5zbWlzc2lvbk1hcC5jaGFubmVsfTtyLmFwcGx5VGV4dHVyZVRyYW5zZm9ybShuLGUudHJhbnNtaXNzaW9uTWFwKSxpLnRyYW5zbWlzc2lvblRleHR1cmU9bn1zLmV4dGVuc2lvbnM9cy5leHRlbnNpb25zfHx7fSxzLmV4dGVuc2lvbnNbdGhpcy5uYW1lXT1pLHRbdGhpcy5uYW1lXT0hMH19O1QoeWUsXCJHTFRGTWF0ZXJpYWxzVHJhbnNtaXNzaW9uRXh0ZW5zaW9uXCIpO3ZhciByZT15ZSx3ZT1jbGFzcyB3ZXtjb25zdHJ1Y3RvcihlKXt0aGlzLndyaXRlcj1lLHRoaXMubmFtZT1cIktIUl9tYXRlcmlhbHNfdm9sdW1lXCJ9d3JpdGVNYXRlcmlhbChlLHMpe2lmKCFlLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWx8fGUudHJhbnNtaXNzaW9uPT09MClyZXR1cm47bGV0IHI9dGhpcy53cml0ZXIsdD1yLmV4dGVuc2lvbnNVc2VkLGk9e307aWYoaS50aGlja25lc3NGYWN0b3I9ZS50aGlja25lc3MsZS50aGlja25lc3NNYXApe2xldCBuPXtpbmRleDpyLnByb2Nlc3NUZXh0dXJlKGUudGhpY2tuZXNzTWFwKSx0ZXhDb29yZDplLnRoaWNrbmVzc01hcC5jaGFubmVsfTtyLmFwcGx5VGV4dHVyZVRyYW5zZm9ybShuLGUudGhpY2tuZXNzTWFwKSxpLnRoaWNrbmVzc1RleHR1cmU9bn1pLmF0dGVudWF0aW9uRGlzdGFuY2U9ZS5hdHRlbnVhdGlvbkRpc3RhbmNlLGkuYXR0ZW51YXRpb25Db2xvcj1lLmF0dGVudWF0aW9uQ29sb3IudG9BcnJheSgpLHMuZXh0ZW5zaW9ucz1zLmV4dGVuc2lvbnN8fHt9LHMuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdPWksdFt0aGlzLm5hbWVdPSEwfX07VCh3ZSxcIkdMVEZNYXRlcmlhbHNWb2x1bWVFeHRlbnNpb25cIik7dmFyIGllPXdlLE1lPWNsYXNzIE1le2NvbnN0cnVjdG9yKGUpe3RoaXMud3JpdGVyPWUsdGhpcy5uYW1lPVwiS0hSX21hdGVyaWFsc19pb3JcIn13cml0ZU1hdGVyaWFsKGUscyl7aWYoIWUuaXNNZXNoUGh5c2ljYWxNYXRlcmlhbHx8ZS5pb3I9PT0xLjUpcmV0dXJuO2xldCB0PXRoaXMud3JpdGVyLmV4dGVuc2lvbnNVc2VkLGk9e307aS5pb3I9ZS5pb3Iscy5leHRlbnNpb25zPXMuZXh0ZW5zaW9uc3x8e30scy5leHRlbnNpb25zW3RoaXMubmFtZV09aSx0W3RoaXMubmFtZV09ITB9fTtUKE1lLFwiR0xURk1hdGVyaWFsc0lvckV4dGVuc2lvblwiKTt2YXIgb2U9TWUsSWU9Y2xhc3MgSWV7Y29uc3RydWN0b3IoZSl7dGhpcy53cml0ZXI9ZSx0aGlzLm5hbWU9XCJLSFJfbWF0ZXJpYWxzX3NwZWN1bGFyXCJ9d3JpdGVNYXRlcmlhbChlLHMpe2lmKCFlLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWx8fGUuc3BlY3VsYXJJbnRlbnNpdHk9PT0xJiZlLnNwZWN1bGFyQ29sb3IuZXF1YWxzKGNzKSYmIWUuc3BlY3VsYXJJbnRlbnNpdHlNYXAmJiFlLnNwZWN1bGFyQ29sb3JNYXApcmV0dXJuO2xldCByPXRoaXMud3JpdGVyLHQ9ci5leHRlbnNpb25zVXNlZCxpPXt9O2lmKGUuc3BlY3VsYXJJbnRlbnNpdHlNYXApe2xldCBuPXtpbmRleDpyLnByb2Nlc3NUZXh0dXJlKGUuc3BlY3VsYXJJbnRlbnNpdHlNYXApLHRleENvb3JkOmUuc3BlY3VsYXJJbnRlbnNpdHlNYXAuY2hhbm5lbH07ci5hcHBseVRleHR1cmVUcmFuc2Zvcm0obixlLnNwZWN1bGFySW50ZW5zaXR5TWFwKSxpLnNwZWN1bGFyVGV4dHVyZT1ufWlmKGUuc3BlY3VsYXJDb2xvck1hcCl7bGV0IG49e2luZGV4OnIucHJvY2Vzc1RleHR1cmUoZS5zcGVjdWxhckNvbG9yTWFwKSx0ZXhDb29yZDplLnNwZWN1bGFyQ29sb3JNYXAuY2hhbm5lbH07ci5hcHBseVRleHR1cmVUcmFuc2Zvcm0obixlLnNwZWN1bGFyQ29sb3JNYXApLGkuc3BlY3VsYXJDb2xvclRleHR1cmU9bn1pLnNwZWN1bGFyRmFjdG9yPWUuc3BlY3VsYXJJbnRlbnNpdHksaS5zcGVjdWxhckNvbG9yRmFjdG9yPWUuc3BlY3VsYXJDb2xvci50b0FycmF5KCkscy5leHRlbnNpb25zPXMuZXh0ZW5zaW9uc3x8e30scy5leHRlbnNpb25zW3RoaXMubmFtZV09aSx0W3RoaXMubmFtZV09ITB9fTtUKEllLFwiR0xURk1hdGVyaWFsc1NwZWN1bGFyRXh0ZW5zaW9uXCIpO3ZhciBhZT1JZSxBZT1jbGFzcyBBZXtjb25zdHJ1Y3RvcihlKXt0aGlzLndyaXRlcj1lLHRoaXMubmFtZT1cIktIUl9tYXRlcmlhbHNfc2hlZW5cIn13cml0ZU1hdGVyaWFsKGUscyl7aWYoIWUuaXNNZXNoUGh5c2ljYWxNYXRlcmlhbHx8ZS5zaGVlbj09MClyZXR1cm47bGV0IHI9dGhpcy53cml0ZXIsdD1yLmV4dGVuc2lvbnNVc2VkLGk9e307aWYoZS5zaGVlblJvdWdobmVzc01hcCl7bGV0IG49e2luZGV4OnIucHJvY2Vzc1RleHR1cmUoZS5zaGVlblJvdWdobmVzc01hcCksdGV4Q29vcmQ6ZS5zaGVlblJvdWdobmVzc01hcC5jaGFubmVsfTtyLmFwcGx5VGV4dHVyZVRyYW5zZm9ybShuLGUuc2hlZW5Sb3VnaG5lc3NNYXApLGkuc2hlZW5Sb3VnaG5lc3NUZXh0dXJlPW59aWYoZS5zaGVlbkNvbG9yTWFwKXtsZXQgbj17aW5kZXg6ci5wcm9jZXNzVGV4dHVyZShlLnNoZWVuQ29sb3JNYXApLHRleENvb3JkOmUuc2hlZW5Db2xvck1hcC5jaGFubmVsfTtyLmFwcGx5VGV4dHVyZVRyYW5zZm9ybShuLGUuc2hlZW5Db2xvck1hcCksaS5zaGVlbkNvbG9yVGV4dHVyZT1ufWkuc2hlZW5Sb3VnaG5lc3NGYWN0b3I9ZS5zaGVlblJvdWdobmVzcyxpLnNoZWVuQ29sb3JGYWN0b3I9ZS5zaGVlbkNvbG9yLnRvQXJyYXkoKSxzLmV4dGVuc2lvbnM9cy5leHRlbnNpb25zfHx7fSxzLmV4dGVuc2lvbnNbdGhpcy5uYW1lXT1pLHRbdGhpcy5uYW1lXT0hMH19O1QoQWUsXCJHTFRGTWF0ZXJpYWxzU2hlZW5FeHRlbnNpb25cIik7dmFyIGNlPUFlLFJlPWNsYXNzIFJle2NvbnN0cnVjdG9yKGUpe3RoaXMud3JpdGVyPWUsdGhpcy5uYW1lPVwiS0hSX21hdGVyaWFsc19hbmlzb3Ryb3B5XCJ9d3JpdGVNYXRlcmlhbChlLHMpe2lmKCFlLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWx8fGUuYW5pc290cm9weT09MClyZXR1cm47bGV0IHI9dGhpcy53cml0ZXIsdD1yLmV4dGVuc2lvbnNVc2VkLGk9e307aWYoZS5hbmlzb3Ryb3B5TWFwKXtsZXQgbj17aW5kZXg6ci5wcm9jZXNzVGV4dHVyZShlLmFuaXNvdHJvcHlNYXApfTtyLmFwcGx5VGV4dHVyZVRyYW5zZm9ybShuLGUuYW5pc290cm9weU1hcCksaS5hbmlzb3Ryb3B5VGV4dHVyZT1ufWkuYW5pc290cm9weVN0cmVuZ3RoPWUuYW5pc290cm9weSxpLmFuaXNvdHJvcHlSb3RhdGlvbj1lLmFuaXNvdHJvcHlSb3RhdGlvbixzLmV4dGVuc2lvbnM9cy5leHRlbnNpb25zfHx7fSxzLmV4dGVuc2lvbnNbdGhpcy5uYW1lXT1pLHRbdGhpcy5uYW1lXT0hMH19O1QoUmUsXCJHTFRGTWF0ZXJpYWxzQW5pc290cm9weUV4dGVuc2lvblwiKTt2YXIgdWU9UmUsRWU9Y2xhc3MgRWV7Y29uc3RydWN0b3IoZSl7dGhpcy53cml0ZXI9ZSx0aGlzLm5hbWU9XCJLSFJfbWF0ZXJpYWxzX2VtaXNzaXZlX3N0cmVuZ3RoXCJ9d3JpdGVNYXRlcmlhbChlLHMpe2lmKCFlLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWx8fGUuZW1pc3NpdmVJbnRlbnNpdHk9PT0xKXJldHVybjtsZXQgdD10aGlzLndyaXRlci5leHRlbnNpb25zVXNlZCxpPXt9O2kuZW1pc3NpdmVTdHJlbmd0aD1lLmVtaXNzaXZlSW50ZW5zaXR5LHMuZXh0ZW5zaW9ucz1zLmV4dGVuc2lvbnN8fHt9LHMuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdPWksdFt0aGlzLm5hbWVdPSEwfX07VChFZSxcIkdMVEZNYXRlcmlhbHNFbWlzc2l2ZVN0cmVuZ3RoRXh0ZW5zaW9uXCIpO3ZhciBsZT1FZSxiZT1jbGFzcyBiZXtjb25zdHJ1Y3RvcihlKXt0aGlzLndyaXRlcj1lLHRoaXMubmFtZT1cIkVYVF9tYXRlcmlhbHNfYnVtcFwifXdyaXRlTWF0ZXJpYWwoZSxzKXtpZighZS5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHxlLmJ1bXBTY2FsZT09PTEmJiFlLmJ1bXBNYXApcmV0dXJuO2xldCByPXRoaXMud3JpdGVyLHQ9ci5leHRlbnNpb25zVXNlZCxpPXt9O2lmKGUuYnVtcE1hcCl7bGV0IG49e2luZGV4OnIucHJvY2Vzc1RleHR1cmUoZS5idW1wTWFwKSx0ZXhDb29yZDplLmJ1bXBNYXAuY2hhbm5lbH07ci5hcHBseVRleHR1cmVUcmFuc2Zvcm0obixlLmJ1bXBNYXApLGkuYnVtcFRleHR1cmU9bn1pLmJ1bXBGYWN0b3I9ZS5idW1wU2NhbGUscy5leHRlbnNpb25zPXMuZXh0ZW5zaW9uc3x8e30scy5leHRlbnNpb25zW3RoaXMubmFtZV09aSx0W3RoaXMubmFtZV09ITB9fTtUKGJlLFwiR0xURk1hdGVyaWFsc0J1bXBFeHRlbnNpb25cIik7dmFyIGZlPWJlLE5lPWNsYXNzIE5le2NvbnN0cnVjdG9yKGUpe3RoaXMud3JpdGVyPWUsdGhpcy5uYW1lPVwiRVhUX21lc2hfZ3B1X2luc3RhbmNpbmdcIn13cml0ZU5vZGUoZSxzKXtpZighZS5pc0luc3RhbmNlZE1lc2gpcmV0dXJuO2xldCByPXRoaXMud3JpdGVyLHQ9ZSxpPW5ldyBGbG9hdDMyQXJyYXkodC5jb3VudCozKSxuPW5ldyBGbG9hdDMyQXJyYXkodC5jb3VudCo0KSxvPW5ldyBGbG9hdDMyQXJyYXkodC5jb3VudCozKSxhPW5ldyBXLHU9bmV3IEQscD1uZXcgWWUsZj1uZXcgRDtmb3IobGV0IGw9MDtsPHQuY291bnQ7bCsrKXQuZ2V0TWF0cml4QXQobCxhKSxhLmRlY29tcG9zZSh1LHAsZiksdS50b0FycmF5KGksbCozKSxwLnRvQXJyYXkobixsKjQpLGYudG9BcnJheShvLGwqMyk7bGV0IG09e1RSQU5TTEFUSU9OOnIucHJvY2Vzc0FjY2Vzc29yKG5ldyBfKGksMykpLFJPVEFUSU9OOnIucHJvY2Vzc0FjY2Vzc29yKG5ldyBfKG4sNCkpLFNDQUxFOnIucHJvY2Vzc0FjY2Vzc29yKG5ldyBfKG8sMykpfTt0Lmluc3RhbmNlQ29sb3ImJihtLl9DT0xPUl8wPXIucHJvY2Vzc0FjY2Vzc29yKHQuaW5zdGFuY2VDb2xvcikpLHMuZXh0ZW5zaW9ucz1zLmV4dGVuc2lvbnN8fHt9LHMuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdPXthdHRyaWJ1dGVzOm19LHIuZXh0ZW5zaW9uc1VzZWRbdGhpcy5uYW1lXT0hMCxyLmV4dGVuc2lvbnNSZXF1aXJlZFt0aGlzLm5hbWVdPSEwfX07VChOZSxcIkdMVEZNZXNoR3B1SW5zdGFuY2luZ1wiKTt2YXIgaGU9TmU7cS5VdGlscz17aW5zZXJ0S2V5ZnJhbWU6ZnVuY3Rpb24oYyxlKXtsZXQgcj1jLmdldFZhbHVlU2l6ZSgpLHQ9bmV3IGMuVGltZUJ1ZmZlclR5cGUoYy50aW1lcy5sZW5ndGgrMSksaT1uZXcgYy5WYWx1ZUJ1ZmZlclR5cGUoYy52YWx1ZXMubGVuZ3RoK3IpLG49Yy5jcmVhdGVJbnRlcnBvbGFudChuZXcgYy5WYWx1ZUJ1ZmZlclR5cGUocikpLG87aWYoYy50aW1lcy5sZW5ndGg9PT0wKXt0WzBdPWU7Zm9yKGxldCBhPTA7YTxyO2ErKylpW2FdPTA7bz0wfWVsc2UgaWYoZTxjLnRpbWVzWzBdKXtpZihNYXRoLmFicyhjLnRpbWVzWzBdLWUpPC4wMDEpcmV0dXJuIDA7dFswXT1lLHQuc2V0KGMudGltZXMsMSksaS5zZXQobi5ldmFsdWF0ZShlKSwwKSxpLnNldChjLnZhbHVlcyxyKSxvPTB9ZWxzZSBpZihlPmMudGltZXNbYy50aW1lcy5sZW5ndGgtMV0pe2lmKE1hdGguYWJzKGMudGltZXNbYy50aW1lcy5sZW5ndGgtMV0tZSk8LjAwMSlyZXR1cm4gYy50aW1lcy5sZW5ndGgtMTt0W3QubGVuZ3RoLTFdPWUsdC5zZXQoYy50aW1lcywwKSxpLnNldChjLnZhbHVlcywwKSxpLnNldChuLmV2YWx1YXRlKGUpLGMudmFsdWVzLmxlbmd0aCksbz10Lmxlbmd0aC0xfWVsc2UgZm9yKGxldCBhPTA7YTxjLnRpbWVzLmxlbmd0aDthKyspe2lmKE1hdGguYWJzKGMudGltZXNbYV0tZSk8LjAwMSlyZXR1cm4gYTtpZihjLnRpbWVzW2FdPGUmJmMudGltZXNbYSsxXT5lKXt0LnNldChjLnRpbWVzLnNsaWNlKDAsYSsxKSwwKSx0W2ErMV09ZSx0LnNldChjLnRpbWVzLnNsaWNlKGErMSksYSsyKSxpLnNldChjLnZhbHVlcy5zbGljZSgwLChhKzEpKnIpLDApLGkuc2V0KG4uZXZhbHVhdGUoZSksKGErMSkqciksaS5zZXQoYy52YWx1ZXMuc2xpY2UoKGErMSkqciksKGErMikqciksbz1hKzE7YnJlYWt9fXJldHVybiBjLnRpbWVzPXQsYy52YWx1ZXM9aSxvfSxtZXJnZU1vcnBoVGFyZ2V0VHJhY2tzOmZ1bmN0aW9uKGMsZSl7bGV0IHM9W10scj17fSx0PWMudHJhY2tzO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7KytpKXtsZXQgbj10W2ldLG89ei5wYXJzZVRyYWNrTmFtZShuLm5hbWUpLGE9ei5maW5kTm9kZShlLG8ubm9kZU5hbWUpO2lmKG8ucHJvcGVydHlOYW1lIT09XCJtb3JwaFRhcmdldEluZmx1ZW5jZXNcInx8by5wcm9wZXJ0eUluZGV4PT09dm9pZCAwKXtzLnB1c2gobik7Y29udGludWV9aWYobi5jcmVhdGVJbnRlcnBvbGFudCE9PW4uSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kRGlzY3JldGUmJm4uY3JlYXRlSW50ZXJwb2xhbnQhPT1uLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcil7aWYobi5jcmVhdGVJbnRlcnBvbGFudC5pc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSl0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5HTFRGRXhwb3J0ZXI6IENhbm5vdCBtZXJnZSB0cmFja3Mgd2l0aCBnbFRGIENVQklDU1BMSU5FIGludGVycG9sYXRpb24uXCIpO2NvbnNvbGUud2FybihcIlRIUkVFLkdMVEZFeHBvcnRlcjogTW9ycGggdGFyZ2V0IGludGVycG9sYXRpb24gbW9kZSBub3QgeWV0IHN1cHBvcnRlZC4gVXNpbmcgTElORUFSIGluc3RlYWQuXCIpLG49bi5jbG9uZSgpLG4uc2V0SW50ZXJwb2xhdGlvbihIZSl9bGV0IHU9YS5tb3JwaFRhcmdldEluZmx1ZW5jZXMubGVuZ3RoLHA9YS5tb3JwaFRhcmdldERpY3Rpb25hcnlbby5wcm9wZXJ0eUluZGV4XTtpZihwPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihcIlRIUkVFLkdMVEZFeHBvcnRlcjogTW9ycGggdGFyZ2V0IG5hbWUgbm90IGZvdW5kOiBcIitvLnByb3BlcnR5SW5kZXgpO2xldCBmO2lmKHJbYS51dWlkXT09PXZvaWQgMCl7Zj1uLmNsb25lKCk7bGV0IGw9bmV3IGYuVmFsdWVCdWZmZXJUeXBlKHUqZi50aW1lcy5sZW5ndGgpO2ZvcihsZXQgZD0wO2Q8Zi50aW1lcy5sZW5ndGg7ZCsrKWxbZCp1K3BdPWYudmFsdWVzW2RdO2YubmFtZT0oby5ub2RlTmFtZXx8XCJcIikrXCIubW9ycGhUYXJnZXRJbmZsdWVuY2VzXCIsZi52YWx1ZXM9bCxyW2EudXVpZF09ZixzLnB1c2goZik7Y29udGludWV9bGV0IG09bi5jcmVhdGVJbnRlcnBvbGFudChuZXcgbi5WYWx1ZUJ1ZmZlclR5cGUoMSkpO2Y9clthLnV1aWRdO2ZvcihsZXQgbD0wO2w8Zi50aW1lcy5sZW5ndGg7bCsrKWYudmFsdWVzW2wqdStwXT1tLmV2YWx1YXRlKGYudGltZXNbbF0pO2ZvcihsZXQgbD0wO2w8bi50aW1lcy5sZW5ndGg7bCsrKXtsZXQgZD10aGlzLmluc2VydEtleWZyYW1lKGYsbi50aW1lc1tsXSk7Zi52YWx1ZXNbZCp1K3BdPW4udmFsdWVzW2xdfX1yZXR1cm4gYy50cmFja3M9cyxjfX07ZXhwb3J0e3EgYXMgR0xURkV4cG9ydGVyfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@mappedin/mappedin-js/lib/esm/GLTFExporter-DJTLMZRS.js\n"));

/***/ })

}]);